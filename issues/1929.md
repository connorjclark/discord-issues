## ❌Layered Lock Blocks Don't Work by Default (#1929)
@connorjclark (discord: connorclark) opened this issue on 09/27/2022
Status: unknown
Tags: 
Source: #dev-discussion https://discord.com/channels/876899628556091432/1024200173401935882


=== @connorjclark (discord: connorclark) 09/27/2022 06:05

Gonna hold off putting this into a nightly until some people get a chance to play with it.

Here it is from my fork: https://github.com/connorjclark/ZeldaClassic/releases/tag/connorjclark-nightly-2022-09-27

=== @connorjclark (discord: connorclark) 09/27/2022 06:08

Just make sure this is not disabled:
![image](https://cdn.discordapp.com/attachments/1024200173401935882/1024200794813239337/unknown.png?ex=65e6b6d2&is=65d441d2&hm=a922d49f1e4d323c6f081c978b41fab0be848a06efdc8d5f35ba43c68f2c6d94&)
Then any new save file will have a replay file saved to disk (in `replays` folder)
At any time, you can load a replay (without impacting the actual save) and watch it play again. You can stop the replay and take over if you want, but note you won't be able to save.

=== @connorjclark (discord: connorclark) 09/27/2022 06:11

It'd be helpful if people could play various custom quests and send me the replay file.

=== @connorjclark (discord: connorclark) 09/27/2022 06:14

Also helpful would be someone recording the entire 1st quest. I did just the first dungeon, but would like the whole thing as a test.

=== @ Moosh 09/27/2022 07:24

Hmm...Tried making a replay up through the first dungeon of Stellar Seas, it doesn't appear the replay captured any of my directional input

=== @ Moosh 09/27/2022 07:27

Same deal with Zelda 1. No directional input to speak of

=== @ Moosh 09/27/2022 07:31

Something else I noticed, which forgive me if you've already said as much elsewhere, rng seems to be seeded to the same value on each screen transition. I have a script in the first town that creates a set of random wandering npcs and it always spawned the same four in the same places, only changing when entering from the north or south. Guessing the different scroll timing makes the script run on a different frame after the reset

=== @ Moosh 09/27/2022 07:52

Okay so far I've observed:
-Control stick input on a gamepad isn't stored as directional input
-~~Input isn't processed at all on the pause screen~~ Something screwy's going on, but it's more complex than just input being ignored
-~~Just walking into the sword screen and picking up the sword seems to throw off replay timing~~ But I can't reliably reproduce it
-Closing the replay with ZC->Replay->Stop Replay as opposed to F6->Save seems to not record anything at all. Maybe a conveyance issue, but I assumed "End Replay" meant it would end the recording at that point without quitting to the title

=== @ Moosh 09/27/2022 07:57

Hmm...but now I can't seem to recreate that sword cave desync
Could be that was also related to the pause menu

=== @ Moosh 09/27/2022 08:01

Oddly loading an earlier replay seemed to un-delete older saves despite not saving them anywhere in the file
Here's the replay that desynced at the sword cave if there's anything to be gleaned from it
https://cdn.discordapp.com/attachments/1024200173401935882/1024229410888495124/Original_NES_1st_Quest-1stDesync.zplay?ex=65e6d178&is=65d45c78&hm=4966d9c8f147a906dd2532eb4424ae32e1d998d327ab8df832676d3cae765e48&

=== @ Moosh 09/27/2022 08:18

Okay all my desync problems seem to stem from controller inputs being screwy in one way or another. Doing the same kind of test with both keyboard and controller gave very different results

=== @ Moosh 09/27/2022 08:22


https://cdn.discordapp.com/attachments/1024200173401935882/1024234518258917427/Original_NES_1st_Quest-Keyboard.zplay?ex=65e6d63a&is=65d4613a&hm=4884b3cdc4eb7ca2f142bd13528cbd16ff8982db80a3622467457d14ade6b158&

https://cdn.discordapp.com/attachments/1024200173401935882/1024234542443278336/Original_NES_1st_Quest-Gamepad.zplay?ex=65e6d640&is=65d46140&hm=66ebff22907cb22f6321c65377f874df2bda4140b7321e374b141181e6b14a95&
Like here, the gamepad test didn't read any of my A inputs and appears to have either dropped some start inputs or just got the timing all wrong
Leading to longer than expected stretches of time spent in the pause menu and resulting desyncs. It should've ended with the pause menu closed, after five sword swipes. Instead the F6 goes through with it open

=== @ Moosh 09/27/2022 08:25

The number of start presses differs between files but that's unreliable cuz I was mashing. Lemme test without

=== @ Moosh 09/27/2022 08:30

Okay so without mashing 18 instances of start on the keyboard file, 14 on the gamepad

=== @ Moosh 09/27/2022 08:32

I paused 4 times on each test, so that'd be 8 start presses. One more I assume comes from the F6 menu

=== @ Moosh 09/27/2022 08:33

So somewhere in there the gamepad test missed two of them, by the look of the replay one close and one open

=== @ Moosh 09/27/2022 10:03

Did an entire playthrough of 1st quest. It didn't even save the replay data.

=== @EmilyV99 (discord: Emily) 09/27/2022 10:04

Is it not saving on winning the game?
that sucks

=== @ Moosh 09/27/2022 10:04

That's what I'm guessing
I'm kinda pissed
It was a really bad run because I don't actually know 1st quest. Fake fan
But it would've been cool to watch it at least desync and fall apart
instead...

=== @EmilyV99 (discord: Emily) 09/27/2022 10:05

Does it replay cheats being used?

=== @ Moosh 09/27/2022 10:05

https://tenor.com/view/willy-wonka-and-the-chocolate-factory-gene-wilder-willy-wonka-you-get-nothing-nothing-gif-5432076
Good question. Let's see
1st quest doesn't have any cheats. Doy
let's turn those on...

=== @ Moosh 09/27/2022 10:08

Nope, it does not replay cheats

=== @ Moosh 09/27/2022 10:16

Unsure if it's unique to this build, but strings appear to be kinda fucked. I thought it was just 1st.qst having its formatting broken but I loaded up 7th and string text boxes weren't disappearing + strings were wrapping incorrectly

=== @EmilyV99 (discord: Emily) 09/27/2022 10:20

<:nekoSigh:1012187680467075092>
#1928
something's busted

=== @ Moosh 09/27/2022 10:20

Ah yup, I see that one already has a bug report

=== @ Moosh 09/27/2022 10:22

Funny thing is since the first quest I tested this with is Stellar Seas and that one exclusively uses Tango, it was completely immune.

=== @connorjclark (discord: connorclark) 09/27/2022 12:26

Thanks Moosh! Sorry about the win game thing. Odd that ZC doesn't save the file on win, seems like something we should change. Otherwise it would have saved the replay too.

I think I know how to address everything you mentioned. Will post with a new build when it's ready.

=== @connorjclark (discord: connorclark) 09/27/2022 12:32

It does set the same seed on every loadscr (and game load) because the idea was to make it plausible to update something in the middle of a replay file without changing the RNG down the line and needing to redo the rest of the replay.

This is only a concern for automated testing, so I think I can instead skip resetting the RNG on loadscr for normal usage.

Do you think RNG having the same seed on game start up is OK in normal usage? If not I'd have to save the seed in the replay instead of always using 0 on start. As soon as you start moving around RNG is so random that it should be good enough, but perhaps it'd still be noticeable if an initialization script uses RNG to configure a quest before the game loop ever starts. Not sure if that's common.

=== @EmilyV99 (discord: Emily) 09/27/2022 12:37

Also note that scripts *can* use multiple separate rngs

=== @connorjclark (discord: connorclark) 09/27/2022 12:48

I've modified those too

=== @ Moosh 09/27/2022 18:12

(replying to @connorjclark (discord: connorclark) "Thanks Moosh! Sorry about the…"): Oh but that's the wack thing. It does save. On loading the file again all my stuff was there still. And it did save a replay when I saved manually. So maybe there's two versions of the save process for some reason?

=== @ Moosh 09/27/2022 18:13

I recall there was a bug a while back where win game didn't save file icon changes if you beat a quest in one continuous sitting, so something about it's different from manual save at least

=== @ Moosh 09/27/2022 18:17

(replying to @connorjclark (discord: connorclark) "It does set the same seed on…"): Starting the seed at 0 makes sense as I don't think there's too many quests that'd randomize on init. Alternatively couldn't you save it to the replay file? Have one tag at the start for starting seed and then another for most recent seed (for resuming recording from a previous save?)

=== @ Moosh 09/27/2022 18:20

How'd resuming a recording work anyways? I'd assume as soon as the replay contains a manual save it's finished, as it'd boot you to the file select menu

=== @ Moosh 09/27/2022 18:22

I'd also assume suspending a replay without performing a manual save would be complicated, as it'd need a way to preserve every state at the point you paused it and then load up again from that point. Basically a savestate

=== @connorjclark (discord: connorclark) 09/27/2022 19:46

No save states. Just runs the same init game/continue game functions as needed to replay the same. You can save and continue after a reboot just fine.

=== @connorjclark (discord: connorclark) 09/27/2022 19:50

Doesn't record title screen, just the End Game screen

=== @connorjclark (discord: connorclark) 09/29/2022 02:07

@ Majora 

New release building now for my fork. These are the changes:

- save replay on any file save (not just End Game -> Save)
- record and playback rng seeds
- record and playback cheats
- record joypad buttons. Currently don't distinguish keyboard from joypad, so potential breakage in zasm (you can read those separately in scripts, but the engine never does)
- allow saving replay manually w/ ZC > Replay > Save Replay. If associated with a save file it will save a copy (original must always be synced with file save)

Still todo:

- cheats that take input (amount, goto, etc)
- pause
- try stellar seas myself
will be on https://github.com/connorjclark/ZeldaClassic/releases in about 20m

=== @ Majora 09/29/2022 02:13

i'll give it a go with my old quest

=== @connorjclark (discord: connorclark) 09/29/2022 02:30

https://github.com/connorjclark/ZeldaClassic/releases/tag/connorjclark-nightly-2022-09-29

=== @ Majora 09/29/2022 02:39

on it!

=== @ Majora 09/29/2022 04:43

it breaks like right away apparently
https://cdn.discordapp.com/attachments/1024200173401935882/1024904319331479602/Resurrectio_Incipiam-Hero.zplay?ex=65e94607&is=65d6d107&hm=da7b2ca29c44084bca6e1ca6fd024f7b7a77eccd9e6a3623510ed14e4119b632&
https://cdn.discordapp.com/attachments/1024200173401935882/1024904319641854072/Resurgence255.qst?ex=65e94607&is=65d6d107&hm=50f5d70729f97a1d1ce4ea8790df12ee46ac2fa906f6920910e7f72076568416&

=== @connorjclark (discord: connorclark) 09/29/2022 06:08

omfg
![image](https://cdn.discordapp.com/attachments/1024200173401935882/1024925724467015710/unknown.png?ex=65e959f6&is=65d6e4f6&hm=b7734f6fbcd57bbeacc949d5210ba9bb858053b167b8f283fb121922fd4ebe76&)
i hate windows new lines
(this should be just "Start")

=== @ Moosh 09/29/2022 10:07

@connorjclark (discord: connorclark) Full 1st quest replay. I didn't save at the Zelda flag this time because I wanted to take no chances but played it back on fast forward and it worked like magic. No desyncs 🎉
https://cdn.discordapp.com/attachments/1024200173401935882/1024985751634595861/Original_NES_1st_Quest-1st.zplay?ex=65e991de&is=65d71cde&hm=6cd891d4e07a74efe999503ef4a558e1dd12882f19b22294bfd10a12ed0fa409&

=== @ Moosh 09/29/2022 10:11

Huh. If I'd choked one less time on the silvers room this could've been sub 1 hour

=== @connorjclark (discord: connorclark) 09/29/2022 17:16

Nice, can't wait to watch it 😁
Moosh are you on window or Mac?
If you're on windows... I'm wondering why Majora, on windows, is having newline issues but you aren't
I'm on Mac so I only had to deal with normal newlines

=== @ Moosh 09/29/2022 18:33

On Windows, yeah...

=== @connorjclark (discord: connorclark) 09/29/2022 21:11

@ Majora ur windows is haunted sorry
oh you know what

It works on windows but the file recorded on windows and played on Mac doesn't work because of the differences
World makes sense again

=== @connorjclark (discord: connorclark) 09/30/2022 23:27

Tested with the pause a bit, that seems fine. lmk if not.
F3 or whatever it is

=== @connorjclark (discord: connorclark) 10/01/2022 19:09

(replying to @ Majora "it breaks like right away app…"): fixed this, should work for any scripts now 🤞

=== @connorjclark (discord: connorclark) 10/01/2022 19:35

https://github.com/connorjclark/ZeldaClassic/releases/tag/connorjclark-nightly-2022-10-01

=== @connorjclark (discord: connorclark) 10/02/2022 04:29

tried out stellar seas, had to consider the new f6 menu to get recording to work. seems good now (new build soon)

=== @connorjclark (discord: connorclark) 10/02/2022 04:36

watching 1st quest at 2000+ FPS is insane

=== @ Majora 10/02/2022 04:37

anyone got a 1st quest replay file I can load up to watch

=== @connorjclark (discord: connorclark) 10/02/2022 04:38

https://github.com/connorjclark/ZeldaClassic/blob/replay/tests/replays/classic_1st.zplay same one moosh gave me

=== @connorjclark (discord: connorclark) 10/02/2022 04:45

uploading video rn

=== @connorjclark (discord: connorclark) 10/02/2022 04:54

https://github.com/connorjclark/ZeldaClassic/releases/tag/connorjclark-nightly-2022-10-02-2
https://www.youtube.com/watch?v=47sbYAa9RJk&ab_channel=ConnorClark (HD still processing)

=== @ Majora 10/02/2022 04:57

<a:gigalul:992651074072756294>
me when her parents aren't home

=== @connorjclark (discord: connorclark) 10/02/2022 04:58

just noticed the whistle usage is hardcoded to the sfx duration, it seems
I worked around that for the "get triforce" animation (which is also tied to duration) because it _broke_ replay, but it seems fine for the whistle (prob because it doesn't stall the game loop like trifoce does..)

=== @connorjclark (discord: connorclark) 10/02/2022 05:03

ah whistle also stalls the game loop but does so in a way that doesn't matter for replay/uncapped fps. all good.
![image](https://cdn.discordapp.com/attachments/1024200173401935882/1025996500733546496/unknown.png?ex=65ed3f33&is=65daca33&hm=6c75cf576b73bca82fd2175f8635a65020d85e01db7819bc8acff8bd747b315c&)

=== @ Majora 10/02/2022 06:38


https://cdn.discordapp.com/attachments/1024200173401935882/1026020300250423346/Resurrectio_Incipiam-Hero.zplay?ex=65e41ade&is=65d1a5de&hm=f210e8433b762f32c36412f41e8f2874aa69b067f59f35c1cb64b6600af43678&
https://cdn.discordapp.com/attachments/1024200173401935882/1026020300514676746/Resurgence255.qst?ex=65e41ade&is=65d1a5de&hm=1eb64fb6508b156194745ea60aeef73ae32118ebb0ae9b3a93b7d08c8a4baf48&
it crashes at uhhhh
pretty fast, within the first few minutes
the latest github link posted in here
just hit F1 for like 5 seconds maybe

=== @connorjclark (discord: connorclark) 10/02/2022 17:16

thanks @ Majora! found the bug.
it was related to RNG playback.
new build going now

=== @connorjclark (discord: connorclark) 10/02/2022 18:31

https://github.com/connorjclark/ZeldaClassic/releases/tag/connorjclark-nightly-2022-10-02-4

=== @connorjclark (discord: connorclark) 10/02/2022 19:51

I'm gonna pick out a recent-ish quest and play it a bit. if I don't run into a new bug I'll release 👀
https://www.purezc.net/index.php?page=quests&id=781

=== @connorjclark (discord: connorclark) 10/02/2022 20:49

just found two minor issues

- spaces in the qst filename were a problem
- ring items are a bit weird, made the playback assertion be slightly different (missing "getitem <some max ring>" in the replay file b/c of silly ZC hack). fixed that

=== @connorjclark (discord: connorclark) 10/03/2022 01:24

nearly done with the last big thing–a system for updating just the replay for a single screen. This is so we can update a replay file "one screen at a time", as necessary, in case engine changes necessitate it.

for example the recent string margin fix for classic.qst made Moosh's replay file break on some screens with messages (due to slight difference in how long it takes to render the message). To fix, I can now tell ZC to replay that file until that screen, manually take control and play the screen myself, then when the next screen loads the replay takes over again. When done it writes the new replay file.

so i just had to re-play one screen, not the entire quest, to fix the test

=== @EmilyV99 (discord: Emily) 10/03/2022 01:26

oooh, nice!!

=== @ Majora 10/03/2022 01:28

Jesus christ

=== @ Moosh 10/03/2022 01:40

ZC TAS runs are on the horizon. Type B players btfo

=== @connorjclark (discord: connorclark) 10/03/2022 06:00

https://github.com/connorjclark/ZeldaClassic/releases/tag/connorjclark-nightly-2022-10-03

=== @EmilyV99 (discord: Emily) 10/03/2022 09:32

Do let me know as soon as you're done/merged with this
as that'll be about time for me to update changelog and push a new *alpha*

=== @connorjclark (discord: connorclark) 10/03/2022 13:53

word
Was planning on after work this evening
And I'll write up a user guide

=== @connorjclark (discord: connorclark) 10/04/2022 01:29

wrapping this up now

=== @connorjclark (discord: connorclark) 10/04/2022 01:31

usage docs I just wrote:

# Replays

Replays are `.zplay` text files that ZC can create and play back to replay a game session. All button inputs and RNG seeds are recorded so that ZC can recreate the same playthrough frame-by-frame.

This system was created primarily as a way to create automated tests. For more on that, see `tests/run_replay_tests.py`.

A new save file can be recorded by selecting the `ZC > Replay > Enable recording new saves` menu option. This will make any new save file also be recorded. You'll see an alert box telling you where the file will be saved. You can save and continue whenever without harming the recording process.

At any time, you can playback a replay in the `ZC > Replay` menu to watch it again, and can even take manual control whenever you want. This will not modify any exiting saved games. Note that you currently aren't be able to persist a save file when replaying a `.zplay` from this menu.

Later work on this system may introduce more user-facing features, such as savestates, rewinding, or creating a new game file from a replay.

In the meantime, **a great way to contribute to ZC development** is to enable the recording feature for your new games, and provide us your `.zplay` files. You don't have to finish the game, any amount of playthroughs could be helpful. The more we have, the better coverage our testing system will have, and the fewer regressions/compatability bugs there will be!

=== @connorjclark (discord: connorclark) 10/04/2022 02:04

(replying to @EmilyV99 (discord: Emily) "as that'll be about time for…"): I just started a new nightly. Might be good to give this a day or two before cutting the next alpha, in case I broke something 👀

=== @EmilyV99 (discord: Emily) 10/04/2022 09:12

woo!

=== @connorjclark (discord: connorclark) 10/14/2022 20:05

@ DeletedUser let's move further discussion/replay sharing to here

=== @ NightmareJames 10/14/2022 20:30

OK

=== @ NightmareJames 10/14/2022 21:34

OK, there's definitely still some issues, definitely on append.  I'm going to have to take some recordings and replays

=== @ NightmareJames 10/14/2022 21:35

I'm going to watch Rotorstorm at 6, then watch an episode of Cobra Kai, then probably get back to you after my own quest dev or in the morning

=== @connorjclark (discord: connorclark) 10/15/2022 00:35

Can't find any issues using `new2013.qst`, but I didn't play too long because it's too difficult for me.

=== @ NightmareJames 10/15/2022 00:44

I'll go over it later, and if you promise me you wont distribute it, I'll send you a special version with a cheat code to help out

=== @ NightmareJames 10/15/2022 00:47

I have to get some more milk, but I'll be back in a bit
But basically, the replay and what I played didn't line up, ugh, I'm going to have to make recordings to go with this
It was like 2nd or 3rd append in

=== @ NightmareJames 10/15/2022 00:50

And instead of the game going to Level 2, it created a random death

=== @connorjclark (discord: connorclark) 10/15/2022 00:50

(replying to @ NightmareJames "I'll go over it later, and if…"): You know our developer builds just have cheats enabled eh?
(replying to @ NightmareJames "And instead of the game going…"): just send me this replay file, that may be enough

=== @ NightmareJames 10/15/2022 00:51

As requested, need anything else?
https://cdn.discordapp.com/attachments/1024200173401935882/1030643978762207333/New_Quest_2013-Sir_Ass.zplay?ex=65ebb280&is=65d93d80&hm=53d6d2e83a5f9ba27e51bae59cd8f66b6ec714470f303f034bf8551d48db49fe&
Like configs, version error reports/etc.?

=== @connorjclark (discord: connorclark) 10/15/2022 00:51

nah that's all, thx

=== @ NightmareJames 10/15/2022 00:51

I'm going to be AFK for a bit

=== @EmilyV99 (discord: Emily) 10/15/2022 00:54

(replying to @ NightmareJames "I'll go over it later, and if…"): we can literally edit any quest extremely easily
and, anyone with the most basic coding skills can aswell

=== @connorjclark (discord: connorclark) 10/15/2022 00:54

Looks like it's the whistle item
that helped, thx

=== @ NightmareJames 10/15/2022 00:55

REALLY???

=== @connorjclark (discord: connorclark) 10/15/2022 00:55

yes we can do anything with computers
like, make a zelda 1 game editor

=== @EmilyV99 (discord: Emily) 10/15/2022 00:57

The big thing is
passwords do not encrypt quests
zq just requires the password to be right to open the quest
anyone who can compile the open source of ZC can just make that function always return true
and it will open any quest
....and there's a master password to open all quests now so we don't need to make builds that just bypass it
so anyone savvy enough to find where that's stored in the repo
can just.... open any quest

=== @ NightmareJames 10/15/2022 01:02

I'm aware such stuff exists, but I'm astounded you found it that fast and I generally being a competitor of 20 years frown on using those kind of tools
Sometimes there are good reasons though

=== @EmilyV99 (discord: Emily) 10/15/2022 01:08

. . . I... "astounded you found it that fast"?
as though I'm not the one who set the current master password lol

=== @ NightmareJames 10/15/2022 01:09

I was talking to Connor there actually

=== @connorjclark (discord: connorclark) 10/15/2022 01:09

yeah i found it immediately

=== @ NightmareJames 10/15/2022 01:09

But yes, you did Emily.  😝

=== @ NightmareJames 10/15/2022 01:11

I guess my brain works differently in all ways
I am an oddball. 🎱

=== @EmilyV99 (discord: Emily) 10/15/2022 01:15

I mean, I wouldn't have expected it to take connor any time at all
you just... look at the load quest code
and it.... calls a password check function
so you just... find that
and look at what it compares
it would take the average programmer who knew that's what they were looking for approximately 2 minutes

=== @ NightmareJames 10/15/2022 01:16

I never got that good unfortunately

=== @connorjclark (discord: connorclark) 10/15/2022 01:16

with zc code you just pause the debugger on any dialog prompt and that gets you where you need to look
the hard part is finding the code
so pausing when it happens solves that

=== @ NightmareJames 10/15/2022 01:17

Well, thank you for finding that so fast

=== @connorjclark (discord: connorclark) 10/15/2022 01:18

OK back to the replay problem

![image](https://cdn.discordapp.com/attachments/1024200173401935882/1030650971145130035/unknown.png?ex=65ebb904&is=65d94404&hm=2ca44c70d6f8bf6f083cbd3ea7083e6fdeb1e871b9852795d8107bdd52ec15b4&)

=== @EmilyV99 (discord: Emily) 10/15/2022 01:19

yeah, the whistle takes the amount of time of the sfx

=== @connorjclark (discord: connorclark) 10/15/2022 01:19

this isn't deterministic so it fucks with the `frame` variable differetly
which is used to influence randgen
which breaks everything 🙂
I solved this with the "triforce sfx counter" by doing a hardcoded number for replay/record mode
so i'll do that here too
(but still use the weird version for normal play)

=== @ NightmareJames 10/15/2022 01:21

FUN, sounds like one hotmess

=== @connorjclark (discord: connorclark) 10/15/2022 01:34

Cool, fixed that. This and the triforce grab animation are the only things that wait for a sfx to play, so should be good here now.
New nightly building now.

=== @ NightmareJames 10/15/2022 02:02

Cool, get to it in the morning

=== @EmilyV99 (discord: Emily) 10/15/2022 06:54


![image](https://cdn.discordapp.com/attachments/1024200173401935882/1030735468259709008/unknown.png?ex=65ec07b5&is=65d992b5&hm=9781d85b897358c70f93c58586bb181630e3e9f962e975b784fe2c7edfba29cc&)
So, that's in the entire wrong palette
because you didn't load the system palette first
(I should be able to fix this instance fairly easily, though IDK if you have any other instances of this same error)
also, I... think that the build I'm currently building should be able to record testplays from zq

=== @EmilyV99 (discord: Emily) 10/15/2022 07:22

AH
also caught a nasty bug
if you load a replay
and then pause DURING the opening wipe
and load a replay again
it fucks up a bunch of stuff, including being in the system palette instead of the game palette
because, you use `Quit = qRESET;` as part of the `Load Replay`
....but by pausing during the opening wipe
you are inside `init_game()`
and when that function exits in testing mode or while a replay is active, it then hits `Quit = 0;`
thus not loading the replay properly
ohhh yeah, and if you make those 2 replays you load DIFFERENT replays
you end up with inputs from  one replay in the quest of the OTHER replay? but it looks like it gets VERY confused
....thankfully this should be an easy fix

=== @EmilyV99 (discord: Emily) 10/15/2022 07:29

......and then fiddling with it more something just CRASHED on me

=== @ NightmareJames 10/15/2022 07:57

Found another
https://cdn.discordapp.com/attachments/1024200173401935882/1030751319214018600/New_Quest_2013-Sir_Ass.zplay?ex=65ec1678&is=65d9a178&hm=eff1cc070f105802970535affd3654b67430bf87c176e8445ae2d6e053bb7c38&
On an append, when the game restarts, it doesn't reset the "B" item back to slot 0.  Instead, it stays on the item you last used
This is going to be hell on A/B quests, but we'll deal with that issue later

=== @EmilyV99 (discord: Emily) 10/15/2022 08:15

OK, I got it to do SOMETHING crashy in debug
but not the same thing
that I had before
....in debug here, I was able to crash *while exiting the program*
....it somehow reached an rng step that did not exist
and ASSERT(false)

=== @EmilyV99 (discord: Emily) 10/15/2022 08:38

K, so I fixed the various palette issues (that I caught)
and
`latest_test_replay.zplay` now exists for the latest test mode run from ZQ

=== @connorjclark (discord: connorclark) 10/15/2022 16:05

wdyt of setting -record latest_test_replay.zplay from the zq test mode launch args (having both args works), since that's the same result but less code
also having a toggle might be good because the game does play slightly differently when recording (see: the sfx timing hacks..)

=== @connorjclark (discord: connorclark) 10/15/2022 16:39

https://github.com/ArmageddonGames/ZQuestClassic/commit/669b738501bd21296cfe5f7153c9e45d855c8403#diff-608f89cd363bcf72e3a4e76c06c8ae42ec6cafc3b6d942c6925b9ab320bda0d0R5703

this change breaks the test_mode.zplay replay from Load Replay menu (fine when run directly from CLI, though), so I'll look more into this.

=== @connorjclark (discord: connorclark) 10/15/2022 16:47

why is quit being cleared here anyway?

=== @EmilyV99 (discord: Emily) 10/15/2022 17:21

Not sure I recall
but keep in mind
everything about test mode was a *hack*
and you've now... hijacked that hack with your own stuff, and made it so that a test mode launch can potentially exit test mode and go back to the normal save menu?

=== @EmilyV99 (discord: Emily) 10/15/2022 17:36

(replying to @connorjclark (discord: connorclark) "https://github.com/Armageddon…"): btw, why does it need qRESET here?
`if (Quit == qRESET && load_replay_file_called)`
Is there some reason that can't JUST check `load_replay_file_called`?

=== @connorjclark (discord: connorclark) 10/15/2022 17:39

because replays can save and continue
Ah, I see the question now
let me think
Well I just refactored it to be moot so w.e.

=== @connorjclark (discord: connorclark) 10/15/2022 17:57

(replying to @ NightmareJames "On an append, when the game r…"): Haven't looked at this yet, but this is quite surprising to me. Thanks for the QA.

=== @EmilyV99 (discord: Emily) 10/15/2022 17:59

```cpp
    if(firstplay)
    {
        game->awpn=-1;
        game->bwpn=-1;
        game->ywpn=-1;
        game->xwpn=-1;
        game->forced_awpn = -1; 
        game->forced_bwpn = -1;  
        game->forced_xwpn = -1; 
        game->forced_ywpn = -1;    
    }```
this section, and a large section below it, in zelda.cpp
are probably related

=== @connorjclark (discord: connorclark) 10/15/2022 19:08

this seems like the culprit (edit: actually i have no idea ugh)
![image](https://cdn.discordapp.com/attachments/1024200173401935882/1030920149374603374/unknown.png?ex=65ecb3b5&is=65da3eb5&hm=45df9403d7c84d9f15a544f247b44d358bb9cffb8c5fa1ad7f8ddbff085f5626&)
indeed, what was wrong with firstplay

=== @connorjclark (discord: connorclark) 10/15/2022 19:21

This just got harder to figure out because lldb freezes when entering `selectWpn_new` 👀

=== @connorjclark (discord: connorclark) 10/15/2022 19:24

_somehow_ it's just because of `set<int32_t> oldPositions;` wow

=== @connorjclark (discord: connorclark) 10/15/2022 19:53

well, ignoring that then.

`game->bwpn` is not being reset. normally it seems `init_dmap` does that but isn't happening during replaying

=== @connorjclark (discord: connorclark) 10/15/2022 20:01

ugghh oh no, the difference is something to do with `selectWpn_new`
which I can't step thru
hmmm

=== @connorjclark (discord: connorclark) 10/15/2022 20:05

I'm pretty confused about when the B item should reset after the game_over screen. it doesn't seem the answer is "always"

=== @EmilyV99 (discord: Emily) 10/15/2022 20:22

if selectWpn\_new is called with a `VERIFY_` constant
then it only changes
if the current item on the button is not valid
...as for *reset*, I would *think* never?

=== @connorjclark (discord: connorclark) 10/15/2022 20:22

Ok, I've noticed an oddity even without replay
1) new game, switch B item, save.
2) load that game... you get the initial B item
3) without saving totally close and restart ZC...load game...you get the second  B item (the one you switched to before saving...)

=== @EmilyV99 (discord: Emily) 10/15/2022 20:23

...what the fuck
if it's without saving, `firstplay` should be true
if it's after saving, `firstplay` should be false

=== @connorjclark (discord: connorclark) 10/15/2022 20:24

that part is fine
the difference is in `init_dmap -> ... -> verifyBWpn -> selectWpn_new`
which i can't instrument
in both cases `game->bwpn` is nonzero before `selectWpn_new` but gets cleared in only one case

=== @EmilyV99 (discord: Emily) 10/15/2022 20:25

that means that the item assigned is NOT valid in the case where it changes
as that's using `SEL_VERIFY_RIGHT`

=== @connorjclark (discord: connorclark) 10/15/2022 20:27

(replying to @connorjclark (discord: connorclark) "in both cases `game->bwpn` is…"): ok in the case it gets cleared to 0, bwpn is somehow modified from 0x04 to 0x05 (`init_game -> flushItemCache`) then from 0x05 to 0 later....

=== @EmilyV99 (discord: Emily) 10/15/2022 20:27

is the active subscreen not loaded properly yet when it's doing that?
(anything to do with the engine subscreen, including button item selection, is PAINFULLY horribly coded)
`flushItemCache()` calls `verifyBothWeapons()`
which calls `verifyBWeapon()`
so that's doing the same exact `selectWpn_new(SEL_VERIFY_RIGHT`

=== @connorjclark (discord: connorclark) 10/15/2022 20:30

(replying to @EmilyV99 (discord: Emily) "is the active subscreen not l…"): yeah, when the B item is _persisted from the last save_, `current_subscreen_active` is null
Should we clear this out after game_over ?
I'm guessing we _want_ to persist this thing
otherwise `usesaved` etc wouldnt exist

=== @EmilyV99 (discord: Emily) 10/15/2022 20:30

if it SAVES, we want it to persist
if you EXIT WITHOUT SAVING, it should not

=== @connorjclark (discord: connorclark) 10/15/2022 20:32

(replying to @connorjclark (discord: connorclark) "Should we clear this out afte…"): hmm init_game seems simpler

=== @EmilyV99 (discord: Emily) 10/15/2022 20:33

.....
nothing seems to clear `current_active_subscreen`?

=== @connorjclark (discord: connorclark) 10/15/2022 20:33

nope, only set
globals are full of fun

=== @EmilyV99 (discord: Emily) 10/15/2022 20:33

it looks like it will only ever be `null` when first launching
that should be cleared when exiting a quest

=== @connorjclark (discord: connorclark) 10/15/2022 20:33

so in game_over?
or somewhere else?

=== @EmilyV99 (discord: Emily) 10/15/2022 20:34


![image](https://cdn.discordapp.com/attachments/1024200173401935882/1030941688698511370/unknown.png?ex=65ecc7c4&is=65da52c4&hm=a66e91946b2d7cee9d79a8b4e0704b7b9a230767e7e12fa608e7c52dc453fe89&)
like here somewhere
in the main loop

=== @connorjclark (discord: connorclark) 10/15/2022 20:34

ah in the game loop
ok

=== @EmilyV99 (discord: Emily) 10/15/2022 20:34

this is all cleanup code for exiting a quest and going back to save select
(or in the case of test mode just restarting the test)
presumably we don't want it to clear on a `Continue`
so probably in the `if(Quit != qCONT)` block would be the place?
....hmm, but, can a continue change your dmap?
maybe clearing on any exit would be fine....

=== @connorjclark (discord: connorclark) 10/15/2022 20:35

cont_game calls update_subscreens
so that's fine

=== @EmilyV99 (discord: Emily) 10/15/2022 20:36

maybe clearing in `init_game` would be fine
(all of this shit is a fucking mess)

=== @connorjclark (discord: connorclark) 10/15/2022 20:57

@ DeletedUser I confirmed this fixes the wrong B item for recording. New nightly building now.
surely all the bugs have been found now ..

=== @EmilyV99 (discord: Emily) 10/15/2022 20:59

*surely*
though you've just jinxed it

=== @connorjclark (discord: connorclark) 10/15/2022 21:01

james is just too good at QA

=== @ NightmareJames 10/16/2022 13:48

@connorjclark (discord: connorclark) PLEASE tell me this beats Manhandla in Lv. 2 with 1 Heart on your end, this is like the 5th or 6th re-recording of Lv. 2 since I started, want to move onto bigger and better things
https://cdn.discordapp.com/attachments/1024200173401935882/1031202086362284042/New_Quest_2013-Sir_Ass.zplay?ex=65e47fc8&is=65d20ac8&hm=bafcbda9479afd0a4702ae8bcb8ca3feb416866b93535461b4b253b11ca966c0&

=== @EmilyV99 (discord: Emily) 10/16/2022 16:45

So, I have it set to record test mode runs now, right?
well, there's a problem
because in test mode, doing a `Retry`, or an `F9->Reset System`, or any such thing, should *restart a fresh test mode after reloading the quest*
....except if it's recording
doing such a thing *unsets test mode and sends you back to the normal title screen*
so @connorjclark (discord: connorclark) if you can take a look at that at some point
the desired behavior is: `zqtesting_mode` should NEVER go from `true` to `false` unless you *load* a replay for playback. Hitting `Retry` in test mode should START OVER the `latest_test_replay.zplay` recording

=== @connorjclark (discord: connorclark) 10/16/2022 16:49

Yeah I agree, that sounds like the best behavior. Test flag on command line should never be "undoable"
(replying to @ NightmareJames "@connorjclark (discord: connorclark) PLEASE…"): awesome, I'll verify this soon

=== @connorjclark (discord: connorclark) 10/16/2022 17:49

@ DeletedUser it's good.

=== @ NightmareJames 10/16/2022 17:50

I'll do an incremental backup and move on then later

=== @connorjclark (discord: connorclark) 10/16/2022 19:26

btw next nightly I disabled recording from test menu, because of the Player Data needing to be disabled. @ DeletedUser if you wanted to record with that you still can be you must set `test_mode_record = 1` config option in zquest.cfg

=== @ NightmareJames 10/16/2022 19:28

I'm probably more concerned still with append working ultra properly at the moment, but thank you
So we can make more than 1 append and it still works
Trying not to put the cart before the horse

=== @connorjclark (discord: connorclark) 10/16/2022 19:31

All that works, it's already been verified
I did some play testing last night and saved a lot

=== @ NightmareJames 10/16/2022 19:31

I'll just double check, then move onto ZNR

=== @ NightmareJames 10/16/2022 19:33

I think the last thing we need is ANOTHER completed New Quest run.  🤣
(they're all over my YouTube in all varieties)

=== @ NightmareJames 10/16/2022 20:07

Just got home, backing up

=== @ NightmareJames 10/16/2022 20:55

Just appended three more parts @connorjclark (discord: connorclark) , to match the very first recording I tried.  This works out, I post, I move on

=== @ NightmareJames 10/16/2022 21:42

OK, all set.  Here's the New Quest replay for reference, moving on:
Goes to L5, I'll be continuing it in my Discord on my own time
https://cdn.discordapp.com/attachments/1024200173401935882/1031321285617270834/New_Quest_2013-Sir_Ass.zplay?ex=65e4eecb&is=65d279cb&hm=fc6f2f95977b65c02ea317433ca1dcd7d276cd0de2c21f7f461babef56b4b85a&

=== @ NightmareJames 10/17/2022 04:55

ZNR - Old Version (probably pre-release/1st release) - Up to Level 2, check for minor bugs, no majors
https://cdn.discordapp.com/attachments/1024200173401935882/1031430139822751754/5th_Quest_-_Nightmare-Sir_Ass-2.zplay?ex=65e5542c&is=65d2df2c&hm=383c20f9bf6f43a9219f7e1918f16f10437bdc778ebe79ba1bc86623986b4993&

https://cdn.discordapp.com/attachments/1024200173401935882/1031430244915224606/zeldanesremastered_-_2.50.2.qst?ex=65e55445&is=65d2df45&hm=fe6cd3f6ffe0034638dd34bbd9b5e5bdd942382b42479adf2da02456dd17f569&
@connorjclark (discord: connorclark)

=== @ NightmareJames 10/17/2022 05:24

Also, any way to skip to the next append?
When watching replays?

=== @connorjclark (discord: connorclark) 10/17/2022 05:32

no
are you using uncapped fps tho

=== @ NightmareJames 10/17/2022 05:33

No, I am using capped FPS

=== @connorjclark (discord: connorclark) 10/17/2022 05:42

Turn that off and then back on when you want to slow it down again. It's separate from the recording.

=== @ NightmareJames 10/17/2022 05:43

That works as a level skip, tks

=== @ NightmareJames 10/17/2022 06:13

New Quest up to Lv. 7:  No majors, if you find minors LMK
https://cdn.discordapp.com/attachments/1024200173401935882/1031449895158169650/New_Quest_2013-Sir_Ass.zplay?ex=65e56692&is=65d2f192&hm=ef0d94249f5cb5d9afaf161ae4bba44050576d1c0c7616f01e8167201cee565d&

=== @ NightmareJames 10/17/2022 06:19

Generally my plan of attack is New Quest, then ZNR, then Demo SP, then I'll try Evan's, then if we pass all of those with flying colors, attempt Demo ZX with A/B (which I expect a lot of problems with) Connor

=== @ NightmareJames 10/17/2022 06:21

If you know anything else troublesome with features feel free to add, I expect A/B to be hell with inputs though and definitely needs to be looked at

=== @connorjclark (discord: connorclark) 10/17/2022 08:11

(replying to @ NightmareJames "New Quest up to Lv. 7:  No ma…"): yup, it works!

=== @ NightmareJames 10/17/2022 08:13

Just in time
I just completed New Quest on my own, going to start reviewing it
How's ZNR?

=== @connorjclark (discord: connorclark) 10/17/2022 08:19

I don't know what that is

Any quest is fine.

Going to bed now
Just play what you wanna play

=== @ NightmareJames 10/17/2022 08:21

ZNR was the other replay I left you

=== @connorjclark (discord: connorclark) 10/17/2022 08:39

If they play back for you then they are good

=== @ NightmareJames 10/17/2022 08:42

I think the only thing we have to be wary on New Quest at this point is a crash at Zelda
Lv. 8 just played back fine, and that had a lot of complicated ZC tech
Replay starting 10 now

=== @ NightmareJames 10/17/2022 09:02

Feed room tested, didn't crash
Onto Zelda

=== @ NightmareJames 10/17/2022 09:19

All set all complete, no majors that I can see.  LMK if you find anything
https://cdn.discordapp.com/attachments/1024200173401935882/1031496553170485278/New_Quest_2013-Sir_Ass.zplay?ex=65e59206&is=65d31d06&hm=97f09b0b27e68cd2060ff692e7ec53688898f8e20c7f85770391e766244c43cc&

=== @ NightmareJames 10/17/2022 09:20

Moving onto ZNR

=== @ NightmareJames 10/17/2022 14:04

ZNR up to Level 2 done, all the basic scripts are functioning as expected
There's really not a lot to write home here about, might skip straight to Demo SP and finish this on my own time (a/la New Quest, though that did go quickly)

=== @ NightmareJames 10/17/2022 14:05

Probably going to give ZNR 1 or 2 more levels just to make rock solid sure though

=== @ NightmareJames 10/18/2022 18:27

One last replay (really for the devs only)::  This is from the ZNR 2.1 "God Mode" scene before you start the quest (this one's in development)  It's really simple, just plays the scene out in God Mode, you beat a made up Ganon, then there's a cutscene at the end I haven't written, which throws you into the beginning choose your Destiny of ZNR.  I hope it's a good throwback, will be redoing this when the nightly/alpha goes official, but making sure this works (did for me).  Also makes the 2nd Quest advancement code public
https://cdn.discordapp.com/attachments/1024200173401935882/1031997013774045305/Zelda_NES_Remastered_-_Version_2.1-Sir_Ass-2.zplay?ex=65e7641d&is=65d4ef1d&hm=3e7d6fad2fe952ab3b5eb758662938e9b02e72dbaf2f795f7cc1796e151652bf&
https://cdn.discordapp.com/attachments/1024200173401935882/1031997014088626257/zeldanesremastered_V2_1-a111.qst?ex=65e7641d&is=65d4ef1d&hm=c11c6b737e0a44ea71013114350ccaa85410d06ef173c8f4c1db00bdb11d8678&

=== @ NightmareJames 10/18/2022 19:03

This is the one in the newest released nightly.  It looks like it works properly. and I will be giving this to my people.  Enjoy!
https://cdn.discordapp.com/attachments/1024200173401935882/1032006121831010405/Zelda_NES_Remastered_-_Version_2.1-Sir_Ass.zplay?ex=65e76c99&is=65d4f799&hm=8d46cd942f904ea6b3171c71577983a404939288fde251380cb213e8677b7e86&

=== @connorjclark (discord: connorclark) 10/19/2022 02:17

I was able to save the replays pre-input bug fix by re-introducing the bug only for old zplay playback. Shoulda done that last night instead of painstakingly fixing the others ones 0.o

=== @connorjclark (discord: connorclark) 10/19/2022 07:02

@ DeletedUser `new2013.zplay` is now officially in the test database, so everytime we commit to github a ghost version of you will be playing that quest, forever, over and over again.
👻

=== @ NightmareJames 10/19/2022 07:07

Not sure what that means

=== @connorjclark (discord: connorclark) 10/19/2022 07:12

I believe it was a joke

=== @ NightmareJames 10/19/2022 07:17

I'm obviously not myself tonight

=== @ NightmareJames 10/22/2022 14:42

Zelda NES Remastered 1.0 - Done in 10/22/2022 Nightly (2, Latest) - Up to White Sword - No Majors
https://cdn.discordapp.com/attachments/1024200173401935882/1033389803879809074/5th_Quest_-_Nightmare-Sir_Ass.zplay?ex=65ec7540&is=65da0040&hm=d45cde920e585638834b6674c15d9e34205d93a57d5f6c835718775366615648&
@connorjclark (discord: connorclark) Up for you to review.  I need to head to work, being called in by 12

=== @connorjclark (discord: connorclark) 10/22/2022 17:39

I'll look later today. For next recordings, be sure to use latest nightly

=== @ NightmareJames 10/22/2022 19:57

I did, but got'cha

=== @connorjclark (discord: connorclark) 10/22/2022 20:00

Oh you did say that! Cool cool cool

=== @connorjclark (discord: connorclark) 10/22/2022 21:03

https://www.purezc.net/index.php?page=quests&id=617, I assume?

=== @connorjclark (discord: connorclark) 10/22/2022 21:05

looks good

=== @connorjclark (discord: connorclark) 10/22/2022 22:36

@ DeletedUser was this played entirely in the latest nightly?

=== @ NightmareJames 10/22/2022 22:37

Yes, though the version on PureZC might not match

=== @connorjclark (discord: connorclark) 10/22/2022 22:38

It played back fine locally, so it probably matched, or it was good enough.
There appears to be an issue with it playing back in CI though, so I have to investigate that.

=== @ NightmareJames 10/22/2022 22:39

CI?

=== @connorjclark (discord: connorclark) 10/22/2022 22:40

"continuous integration", the tests run on github

=== @ NightmareJames 10/22/2022 22:40

Oh

=== @connorjclark (discord: connorclark) 10/22/2022 22:40

https://github.com/connorjclark/ZeldaClassic/actions/runs/3304716392/jobs/5454330123#step:10:7

=== @ NightmareJames 10/22/2022 23:28

My friends are currently checking out my replays.  I will let you know of their concerns

=== @ NightmareJames 10/26/2022 23:18

Played this up to the Lanmola room, does fine for a while, then goes into the stabby stabby and crashes.  (Alpha 111, haven't got to try the new nightlies because of what's going on)
https://cdn.discordapp.com/attachments/1024200173401935882/1034969303327449148/Zelda_NES_Remastered_-_Version_2.1-Sir_Ass.zplay?ex=65e8f9c6&is=65d684c6&hm=16d2fd07f35793cfc7488bb765ed7d7ffa6c4803fe6c623fc70d1e09d32deb02&

=== @ NightmareJames 10/26/2022 23:29

ZNR 1.0 Replay works fine
Now for New Quest
Just in case anyone needs the ZNR 2.1 quest file
https://cdn.discordapp.com/attachments/1024200173401935882/1034972362610855997/zeldanesremastered_V2_1-a111.qst?ex=65e8fca0&is=65d687a0&hm=94504cb42fda9b476cf42bf01c1603d36251f8fdd2aadb3c11d159474ca57fc6&

=== @ NightmareJames 10/26/2022 23:36

I'm too exhausted to watch New Quest right now, sorry

=== @ NightmareJames 10/28/2022 07:08

Still broken, I need to take a new replay in Alpha 111 and above
Not happening at the moment though, quiet hour

=== @ NightmareJames 10/28/2022 07:56

OK, just took a new replay.
1.  Upgraded the quest to official Alpha 111
2.  Replayed in official Alpha 111, worked fine.
3.  Replayed in newest nightly, worked fine.

If you need anything else @connorjclark (discord: connorclark) let me know.  I will be uploading this version of ZNR 2.1 to the project forum because after Monday, I expect to go down for quite a while unless a miracle happens
https://cdn.discordapp.com/attachments/1024200173401935882/1035462027730223154/Zelda_NES_Remastered_-_Version_2.1-Sir_Ass-2.zplay?ex=65eac4a9&is=65d84fa9&hm=395a103903f9494760ada24e4ab7aad49fe73ebee0b5d34dd5531ff6a5a60e36&
https://cdn.discordapp.com/attachments/1024200173401935882/1035462028015452231/zeldanesremastered_V2_11.qst?ex=65eac4a9&is=65d84fa9&hm=afb36b08cff65211893140c9ae4af320e27c8ab6b230f1c7546b64a110648775&

=== @ NightmareJames 10/29/2022 04:11

@connorjclark (discord: connorclark) Any word on this replay with you?

=== @connorjclark (discord: connorclark) 10/29/2022 07:21

I'm AFK for a bit

=== @ NightmareJames 10/30/2022 06:13

Finally catching up, got a lot of work done and to do, but anyway, here's a retake on ZNR 1.0 on the latest nightly, does hang at the end a bit, but otherwise works @connorjclark (discord: connorclark) More tomorrow providing I don't go out to the movies again
https://cdn.discordapp.com/attachments/1024200173401935882/1036161009863364728/zeldanesremastered_-_2.50.2.qst?ex=65e41523&is=65d1a023&hm=230451d0d39b74dd09a4fbed6fbac6f3812bbe3b09bc7d4b4f411fd074897a22&
https://cdn.discordapp.com/attachments/1024200173401935882/1036161010140192798/5th_Quest_-_Nightmare-Sir_Ass.zplay?ex=65e41523&is=65d1a023&hm=823693f5c4b8deb834dad19e6ee508df85fe0b71d7c1c855e0f837f81672dbae&

=== @connorjclark (discord: connorclark) 10/30/2022 07:33

Hold off on more, I may need to toss out all of these to fix a bug. Still working on it.
I want to fix it not recording on EVERY frame. Right now it skips many things

=== @connorjclark (discord: connorclark) 10/30/2022 09:11

Nevermind, I made it work.
Had too many issues trying to figure out how to upgrade an existing replay... So instead I'll just keep in some old code to keep old ones working, was just a couple lines of code
As always, definitely be sure to use latest nightly when I update this next for future replays

=== @ NightmareJames 10/30/2022 19:07

Still hanging at the end, but here's Lv. 3 finished on ZNR 1.0:
https://cdn.discordapp.com/attachments/1024200173401935882/1036355742959149176/5th_Quest_-_Nightmare-Sir_Ass.zplay?ex=65e4ca7f&is=65d2557f&hm=962383a577ef1646cc6f2c7cd8008bb12b83e5beecb13ffe3d61594ac1818e5f&

=== @connorjclark (discord: connorclark) 10/30/2022 19:50

Next build out in ~20m, maybe that will work. Haven't had a chance to look at the replay file yet.

=== @ NightmareJames 10/30/2022 23:00

Works fine in the 10-29 nightly, crashes like a Pac-Man dying in 10-30 nightly.  Up to Level 4 completed
https://cdn.discordapp.com/attachments/1024200173401935882/1036414428930899978/5th_Quest_-_Nightmare-Sir_Ass.zplay?ex=65e50127&is=65d28c27&hm=ba9ba1b1bb08b027ec5880c891fcddf88e06bd60caba50309565be691c5748d7&

=== @connorjclark (discord: connorclark) 10/31/2022 02:55

I should have mentioned it needs to be a fresh save file, was it or are you transferring

=== @ NightmareJames 10/31/2022 02:56

Transferring

=== @ NightmareJames 10/31/2022 03:15

This crashed too, new save, new replay
https://cdn.discordapp.com/attachments/1024200173401935882/1036478440423047168/Zelda_NES_Remastered_-_Version_2.1-Sir_Ass.zplay?ex=65e53cc5&is=65d2c7c5&hm=f15cd445a5fb93486bcb1c3d0142cb1b3645c24883f795667bf9a84b68525198&

=== @ NightmareJames 10/31/2022 03:17

G'night, very tired

=== @connorjclark (discord: connorclark) 10/31/2022 03:43

(replying to @ NightmareJames "Still hanging at the end, but…"): this played fine for me

=== @connorjclark (discord: connorclark) 10/31/2022 03:45

(replying to @ NightmareJames "This crashed too, new save, n…"): I can't tell which quest file this is. Seems neither of the two recent ones shared.

=== @connorjclark (discord: connorclark) 10/31/2022 03:49

(replying to @ NightmareJames "Just in case anyone needs the…"): oh, this.

it gets confusing when the `M qst ...whatever...` doesn't match the filename you are uploading as

=== @EmilyV99 (discord: Emily) 10/31/2022 03:50

Discord can't handle spaces in filenames

=== @connorjclark (discord: connorclark) 10/31/2022 03:51

(replying to @ NightmareJames "This crashed too, new save, n…"): Hm, not crashing for me in `assert` mode, it actually passes the test. I'll try playing within the ZC replay gui.
(replying to @EmilyV99 (discord: Emily) "Discord can't handle spaces i…"): none of the zplay files he's uploaded reference a file with spaces, so that isn't the particular issue here
I think he's just renaming to distinguish them when uploaded. just FYI NJ it makes it hard to associate the replay with the qst

=== @connorjclark (discord: connorclark) 10/31/2022 03:55

(replying to @connorjclark (discord: connorclark) "Hm, not crashing for me in `a…"): ah yup there's a crash here 👍

=== @connorjclark (discord: connorclark) 10/31/2022 04:03

fixed in next nightly ~20min

=== @ NightmareJames 10/31/2022 04:47

Sorry, sleepy
I'll package both next time

=== @ NightmareJames 10/31/2022 08:54

(replying to @ NightmareJames "Works fine in the 10-29 night…"): This transfer now works, see how it does long-term.  I'll keep recording this in 10-29 for stability and keep testing in later nightlies

=== @ NightmareJames 10/31/2022 09:03

OK, new save request by Connor, rename playback request with new filename by Emily, works like a charnr.  Reference files in case I missed something I didn't know (or shouldn't) know about.  Still worried about the hang post-quest
https://cdn.discordapp.com/attachments/1024200173401935882/1036566173891960852/zeldanesremastered_V2_11.qst?ex=65e58e7a&is=65d3197a&hm=90c92fc6d323ccc5b0acec5620ec67b3dbbfe73b5c604134a3b2030ae459f286&
https://cdn.discordapp.com/attachments/1024200173401935882/1036566174248484875/Zelda_NES_Remastered_-_Version_2.1-Sir_Ass_-_10-31_Nightly.zplay?ex=65e58e7a&is=65d3197a&hm=d356dba9b5700e203c24bcdcb06f1bb540c3ae6116a2b2519a436b15ad585d0b&

=== @EmilyV99 (discord: Emily) 10/31/2022 09:07

You should probably zip the files, then upload the zip
that way discord won't replace spaces with `_`s in filenames

=== @ NightmareJames 10/31/2022 09:07

Yes ma'am
I'm going back to Level 5 on ZNR:  That quest takes forever
The next test subject after ZNR will be Demo SP

=== @ NightmareJames 10/31/2022 09:11

My test order as of now:

Old Quests:
Demo SP
Evan's

Moving into 2.53/2.55 for good:
Tiny Quest:  Gold
Moosh's 7th
Demo ZX

(other problems may be requested at any time)
I hope you can see "some" method to my madness

=== @ NightmareJames 10/31/2022 09:54

Passed the 256K mark in frames for ZNR 1.0, if that means anything to programmers

=== @connorjclark (discord: connorclark) 10/31/2022 09:56

Old version skips counting scrolling and subscreen transition and many other things so.... That's at least 256k/fps seconds plus some percentage. Shrug

Version 3 replays truly count every frame
Except for pausing, obviously

... I think lol I need to check I didn't break that

=== @ NightmareJames 10/31/2022 09:57

Well, the thing is, I'm only at the halfway mark for ZNR is the scary part
If I should be aware of file size limits crash LMK
256K frames JUST STARTS Lv. 5

=== @connorjclark (discord: connorclark) 10/31/2022 09:59

That isn't a problem

=== @ NightmareJames 10/31/2022 10:04

I'm going to DM you with something off-topic (not about bugs)

=== @ NightmareJames 10/31/2022 10:09

Can you programmers quickly tell me the capacity of short and long int?
I'm keeping my eyes peeled for size and length bugs

=== @EmilyV99 (discord: Emily) 10/31/2022 10:11

Err, you're just saying "short and long int"
Those aren't terms used almost anywhere in the code
Because, the size of those can *vary from compiler to compiler*

=== @ NightmareJames 10/31/2022 10:13

OK, well, I guess the idea is, I'm getting around 300K frames in ZNR's replay, and I'm only in the middle of Lv. 5
If there's a critical number I should be aware of, I should know it

=== @EmilyV99 (discord: Emily) 10/31/2022 10:13

We use size-specified types, ex. `int8_t, int16_t, int32_t`
But I have no idea what that has ANYTHING to do with replay stuff?

=== @ NightmareJames 10/31/2022 10:14

Size overflow Emily
ZNR is a large quest in length

=== @EmilyV99 (discord: Emily) 10/31/2022 10:14

What size overflow?
Of a specific variable?

=== @ NightmareJames 10/31/2022 10:14

Yes, namely the frames variable

=== @EmilyV99 (discord: Emily) 10/31/2022 10:15

Ahk. Not at my pc to check the size of that right now
I would assume at least 32 bit, so 2.14 billion lines
Probably unsigned, so double that

=== @ NightmareJames 10/31/2022 10:15

If I find something worrying due to size, I'll report it

=== @EmilyV99 (discord: Emily) 10/31/2022 10:15

If it were 64 bit, I believe the number would be in the *quintillions*
Bits scale exponentially
So unsigned 64 bit

=== @ NightmareJames 10/31/2022 10:16

:: nods::

=== @EmilyV99 (discord: Emily) 10/31/2022 10:16

Is (2.14 billion \* 2) squared.

=== @ NightmareJames 10/31/2022 10:17

To be a good tester I have to ask these type of questions

=== @EmilyV99 (discord: Emily) 10/31/2022 10:17

`18,446,744,073,709,551,615`
I think the OS would probably explode first

=== @ NightmareJames 10/31/2022 10:18

Probably

=== @EmilyV99 (discord: Emily) 10/31/2022 10:18

A file with that many lines would be too big for a fair number of programs to even open
It takes far less than that to crash basic notepad lol

=== @ NightmareJames 10/31/2022 10:22

Just a quick status update:  350K frames at the end of Lv. 5 for ZNR 1.0
Starting L6 later

=== @ NightmareJames 10/31/2022 10:25

I want to finish by tonight
So we can move onto bigger and better things

=== @EmilyV99 (discord: Emily) 10/31/2022 10:26

To hit even the smallest limit I mentioned, you would need to play for 6000x your current playtime, for the record

=== @ NightmareJames 10/31/2022 10:27

Thank you for your input Emily

=== @EmilyV99 (discord: Emily) 10/31/2022 10:27

So if you're at level 6, unless the quest has 36k levels, you're probably fine lol

=== @ NightmareJames 10/31/2022 10:27

It has 10 in Normal Mode

=== @EmilyV99 (discord: Emily) 10/31/2022 10:27

10 is significantly less that 36k
So, I think you're safe lol

=== @ NightmareJames 10/31/2022 10:31

Other than capacity checks (and helping other players), I don't think ZNR 1.0 helps us much anymore
Moving on then
I'll probably finish the ZNR test in the background and release it whenever for the players
Demo SP next
@connorjclark (discord: connorclark) , roll up your sleeves
We're going to get a bit dirty here, haha

=== @connorjclark (discord: connorclark) 10/31/2022 10:33

Cool cool

Be sure to update
I need to verify some longer version 3 replay files

=== @ NightmareJames 10/31/2022 10:34

Version 3, that's 10-31 and beyond, right?
Also, get ready for some script dirt now

=== @connorjclark (discord: connorclark) 10/31/2022 10:36

Yes
Spooky version

=== @ NightmareJames 10/31/2022 10:38

Thank you for putting up with New Quest and especially ZNR.  I know both probably aren't your cup of tea Connor, but we had to build a solid foundation
Both quests tend to run very basic stuff
Now I'm not playing nice with you anymore.  😝

=== @ NightmareJames 10/31/2022 11:04

Teh Demo SP begins, NOW

=== @ NightmareJames 10/31/2022 11:15

This version of Demo SP specs:
Version:  2.53
Finished:  Late Beta
3rd version of Demo Quest
Scripting present
Ghost scripting present
These will be the main goals for this

=== @ NightmareJames 10/31/2022 11:29

Prepare for a whole new "nightmare" @connorjclark (discord: connorclark)
https://cdn.discordapp.com/attachments/1024200173401935882/1036602902304804924/Demo_Quest_SP_Replay_-_Beginning.zip?ex=65e5b0af&is=65d33baf&hm=4fec52036d3a2ca4ae8179df9651cfed269d6224e5939cae95409c86121c63e0&
This one worked, but I'm sure you'll find "something"

=== @ NightmareJames 10/31/2022 11:31

I'm going to play Pokemon GO and take a break
I've been ZC'ing a lot

=== @ NightmareJames 10/31/2022 19:29

ZNR is complete on Version 2 now and I'm waiting on you to verify Demo SP's existance on Version 3 @connorjclark (discord: connorclark) , saw the commit, making sure we're good to go
Just verifying the final level on ZNR RN

=== @connorjclark (discord: connorclark) 10/31/2022 19:31

(replying to @ NightmareJames "Prepare for a whole new "nigh…"): it worked.

=== @ NightmareJames 10/31/2022 19:32

Cool, so once I submit the COMPLETE ZNR replay, that and Version 2 should be closed
TY for the relatively prompt response

=== @ NightmareJames 10/31/2022 19:45

YAY!  Reviewing Level 10 of ZNR, but it's disgustingly late for what I need to do, 3:45 PM
I still need to shower and go to the supermarket

=== @ NightmareJames 10/31/2022 19:47

Development has its own schedule mind, haha

=== @ NightmareJames 10/31/2022 19:51

I swear I autopiloted Level 10
I can see me falling asleep in the replay

=== @ NightmareJames 10/31/2022 19:52

There was the Windrobe grab

=== @ NightmareJames 10/31/2022 20:16

ZNR 1.0 COMPLETE - Version 2 - 10-29 Nightly - 793,396 frames approximately  I have other things to do, be back possibly tonight
https://cdn.discordapp.com/attachments/1024200173401935882/1036735384970866769/ZNR_1.0_-_Level_10_-_COMPLETE_-_10-29_Nightly.zip?ex=65e62c11&is=65d3b711&hm=d93c64aae8c16b2a9e9a99e29a82a10b434cff576b5368545cdbcaca16ba8a7f&
Wh00psie, I'm sorry
I'm literally falling head over heels

=== @ NightmareJames 10/31/2022 20:18

Before I go
@connorjclark (discord: connorclark) Where are you archiving the replays?

=== @connorjclark (discord: connorclark) 10/31/2022 20:21

https://github.com/ArmageddonGames/ZQuestClassic/tree/2.55-master/tests/replays

=== @ NightmareJames 10/31/2022 20:24

I need to shower, badly
I've been doing this since 6 AM
With only one break

=== @ NightmareJames 11/01/2022 23:54

I really think this is the only thing I'm doing today sadly
But @connorjclark (discord: connorclark) , checking on the status of ZNR to finalize to put in the replay archive?
We are having a family dinner, then I have to shower and rest

=== @ NightmareJames 11/02/2022 19:29

This is a good one for you @connorjclark (discord: connorclark) - Did the dirty Retry to avoid shield being eaten trick, and it greets me with a messed up replay.  Enjoy!
https://cdn.discordapp.com/attachments/1024200173401935882/1037448472560939108/Demo_Quest_SP_2.53_-_Like_Like_Eat_Retry_Causes_Issues.zip?ex=65e8c42e&is=65d64f2e&hm=d1331315d2a2113400b990ec0e148d31efb1e62d855453948838c19ad7ce5606&

=== @ NightmareJames 11/03/2022 00:19

This seemed to go off with no hitches:  I'll consider adding this to New Quest 2022/2023 when done:  New Quest badly needs a Mirror-type item
https://cdn.discordapp.com/attachments/1024200173401935882/1037521403940970546/Castle_Haunt_II_10-31_Nightly_Farores_Wind_Test.zip?ex=65e9081a&is=65d6931a&hm=f43b079281afb1e6fae6833cf2754a5a70c777e2c734350a5ab17612d6f43498&

=== @ NightmareJames 11/03/2022 00:21

Anything else @connorjclark (discord: connorclark) before I do what I want to do tonight?

=== @connorjclark (discord: connorclark) 11/03/2022 00:35

Nope, thanks

=== @connorjclark (discord: connorclark) 11/03/2022 02:55

(replying to @ NightmareJames "ZNR 1.0 COMPLETE - Version 2…"): wow this takes 11m to playback. I hope I can find a way to speed up uncapped replay.
For now, I'm just gonna run 1/10th of that in CI.

=== @ NightmareJames 11/03/2022 02:56

OK
ZNR runs are average 800K frames and 4h on speed
It's a large quest
I'm very tired: Don't mind me if responses are late

=== @connorjclark (discord: connorclark) 11/03/2022 03:28

For the next full quest, can you do one with layers?

=== @ NightmareJames 11/03/2022 05:43

:: nods :: It'll be scheduled

=== @ NightmareJames 11/03/2022 17:33

@connorjclark (discord: connorclark) Limited time, work day, which would you prefer?  Advancement on Demo SP, or First Quest Layered?

=== @connorjclark (discord: connorclark) 11/03/2022 20:59

layered

=== @ NightmareJames 11/03/2022 23:38

First Quest Layered - Beginning - Most of Lv. 1 and 60 Rupees
https://cdn.discordapp.com/attachments/1024200173401935882/1037873516663545966/First_Quest_Layered_-_1layer_-_11-3_Nightly_-_Beginning.zip?ex=65ea5009&is=65d7db09&hm=446e706226e12b5ab708a6196eb529966376e7cb928f63bb27aaa3e1d3fad076&
@connorjclark (discord: connorclark)

=== @ NightmareJames 11/04/2022 22:35

Connor, I want to take this weekend to myself, though please let me know when you're done evaluating the first part of the Layered replay so I can continue

=== @ NightmareJames 11/08/2022 10:55

@connorjclark (discord: connorclark) Testing Day on my server is over.  We found 3 new bugs in the replay system.  I will post them a bit later (this is like the warning/holding post)

=== @ NightmareJames 11/08/2022 13:47

vlamart's Cambria Entry - Alpha 111 - Played in 11-3 Nightly - Save Bug - Save points don't work correctly:  You save, then you can't restart replay at that point.
https://cdn.discordapp.com/attachments/1024200173401935882/1039536645059383377/Cambria_Vlamart_-_11-3_Nightly_-_Save_Bug.zip?ex=65e72271&is=65d4ad71&hm=de0cb10ca11c9cbb139d4bb3c9360f2c65c764e801e53ec58af286de97434ed2&
BlackPaintBowser's Cambria Entry - Played in 11-3 Nightly - Save Bug, also, uncapping FPS doesn't seem to work
https://cdn.discordapp.com/attachments/1024200173401935882/1039536879810379827/Dreamy_Cambria-11-3_Nightly_-_Broken_Save_Point-_Broken_Cap_FPS.zip?ex=65e722a9&is=65d4ada9&hm=23540e329c820eb61553cea5af285db60910cd18073e8475033628788c9c3d5f&

=== @ NightmareJames 11/08/2022 13:50

Next two have what I call the "name bug":  The engine is reading illegal characters and trying to make filenames, causing ZC to crash.  Double-confirmed by 4matsy, played on 11-3 Nightly
https://cdn.discordapp.com/attachments/1024200173401935882/1039537335622185010/Tiny_Gold-TinyGold_-_11-3_Nightly_-_4matsy.zip?ex=65e72316&is=65d4ae16&hm=197b529a50d43e43408fdf39dcd03e3f5323313a5d0c7da44702d5c3d4ae2647&
https://cdn.discordapp.com/attachments/1024200173401935882/1039537336049995816/JQ_Sidestory_-_11-3_Nightly_-_Name_Bug.zip?ex=65e72316&is=65d4ae16&hm=1806f940d0364cf2df6a32ad8a31b403ee620725cfc8f6daca92120ab5cae772&
Hopefully you can solve these @connorjclark (discord: connorclark)

=== @EmilyV99 (discord: Emily) 11/08/2022 13:51

(replying to @ NightmareJames "Next two have what I call the…"): define `filenames` (there are multiple unrelated things you could be referring to)

=== @ NightmareJames 11/08/2022 13:52

OK, the replay system seems to form a filename based off the header "title"
Hold on, let me get some pictures of something that works properly

=== @connorjclark (discord: connorclark) 11/08/2022 13:53

thanks james
the naming issue makes sense, I'l fix soon.

=== @ NightmareJames 11/08/2022 13:55

Emily, the replay system takes the quest official title
![image](https://cdn.discordapp.com/attachments/1024200173401935882/1039538571348037672/image.png?ex=65e7243d&is=65d4af3d&hm=125594703ff48f525b1cd9c6e4b1f906c9a1babbc44f19411f6b15aeecc5fb38&)
Then turns it into a filename here.  If you get an illegal character here, it shortens it and crashes
![image](https://cdn.discordapp.com/attachments/1024200173401935882/1039538764185337997/image.png?ex=65e7246b&is=65d4af6b&hm=f54763f2b23a871a3fc6ddbd6a80d569ef2b1e92b3a19fb5162633958278fc03&)
Colons seem to be the most guilty party as far as I can see

=== @EmilyV99 (discord: Emily) 11/08/2022 14:01

...ah, lol, makes sense

=== @connorjclark (discord: connorclark) 11/08/2022 14:02

I had hoped std::filesystem::path knew about valid paths.
doesn't even seem to have a method to escape/sanitize a path, like you'd expect

=== @EmilyV99 (discord: Emily) 11/08/2022 14:02

My point being "filename" could either mean like this- an actual windows filename- or it could mean a *save file name*. So, it helps to be explicit about which you mean
(we just had confusion about this in another report recently)

=== @ NightmareJames 11/08/2022 14:22

Doesn't help to document more if needed

=== @ NightmareJames 11/08/2022 16:29

@connorjclark (discord: connorclark) , the Zelda Classic jackpot is now worth 1 "million" frames!

=== @ NightmareJames 11/12/2022 03:12

Name Bug Fixed

=== @ NightmareJames 11/12/2022 14:24

This one's going to be fun Connor, no idea why this one crashed, didn't really do anything funny except retry a few times and maybe try to select a different slot on copy - 11/11 Nightly
https://cdn.discordapp.com/attachments/1024200173401935882/1040995432744108062/James_Quest_Sidestory_-_D_6.35_-_Unknown_Crash_on_startup.zip?ex=65ec710b&is=65d9fc0b&hm=9eb9d1a19729e79bd8b0573e64f90e2364c788caf2e69b9dd1dfa016fcfd2796&

=== @ NightmareJames 11/13/2022 11:58

I was trying to get up to the King Slime battle for evaluation, and this replay decides to crash after Level 2 :: sigh :: Don't know if it's related to the other one I posted before, this one on latest nightly:  Also upgraded a test version of the quest to the latest nightly
https://cdn.discordapp.com/attachments/1024200173401935882/1041321033464025148/James_Quest_Sidestory_-_Up_to_King_Slime_-_Still_Crashes_-_11-13_Nightly.zip?ex=65e465c9&is=65d1f0c9&hm=c0598b77f93e81d01ac991039f91e00a255aa946a40e240bb76fe683ecc091e0&

=== @arceusplayer11 (discord: Deedee) 11/13/2022 20:52

@connorjclark (discord: connorclark) tried a replay; it seems like it desyncs for keyboard inputs?
it doesn't even read them

=== @EmilyV99 (discord: Emily) 11/13/2022 20:54

keyboard inputs, as in?
normal bound controls?
or script reading the keyboard?
The latter is already reported
https://discord.com/channels/876899628556091432/1038106947154620417/1038116201454387302
if the former, then that's a separate issue

=== @arceusplayer11 (discord: Deedee) 11/13/2022 20:57

latter, yeah

=== @EmilyV99 (discord: Emily) 11/13/2022 20:58

then yeah, already reported
it doesn't read them
because.... connor didn't realize they were needed for anything

=== @arceusplayer11 (discord: Deedee) 11/14/2022 01:38

So I played a replay of Stellar Seas without using the keyboard; actually got pretty far, but it eventually crashed

=== @arceusplayer11 (discord: Deedee) 11/14/2022 02:03

crash seems to happen when you start to scroll onto a new screen at one point; when it tries to set the rng seed

=== @arceusplayer11 (discord: Deedee) 11/14/2022 02:42

the frame value for when you enter a new screen seems to be getting offset by either 1 or -1 from what I can tell

=== @arceusplayer11 (discord: Deedee) 11/14/2022 03:34

okay, they're way farther off
I have one that's 8 off

=== @arceusplayer11 (discord: Deedee) 11/14/2022 03:36

I'm very confused why it took over 30 minutes to desync though

=== @arceusplayer11 (discord: Deedee) 11/14/2022 03:39

and why it's seemingly only screens that are desyncing

=== @arceusplayer11 (discord: Deedee) 11/14/2022 03:43


https://cdn.discordapp.com/attachments/1024200173401935882/1041558887867875388/StellarSeasRandomizer.qst?ex=65e5434e&is=65d2ce4e&hm=52d0fac1b5023cc88d7c5e3dedc0b41a4fe7878f9b90d2b0fa686941be085638&
https://cdn.discordapp.com/attachments/1024200173401935882/1041558888174080000/Stellar_Seas-SHIRT-6.zplay?ex=65e5434e&is=65d2ce4e&hm=71852dcedfe581fb70e5b19a0059414cca1113fc50b4309c0660550454021164&

=== @arceusplayer11 (discord: Deedee) 11/14/2022 03:44

@connorjclark (discord: connorclark) maybe you'd have a better idea (sorry, don't mean to pile a bunch of stuff on you); it desyncs and crashes around 131500

=== @arceusplayer11 (discord: Deedee) 11/14/2022 03:45

and fixing the desync manually causes another one (also caused by screen transition) a bit later (but doesn't seem to desync the player???)

=== @ Russ 11/14/2022 14:52

Anything special about that screen transition?
Is it a random event? Or could some script or something be causing it?

=== @arceusplayer11 (discord: Deedee) 11/14/2022 18:10

It's the top of Tel's Pyramid
```D 131376 Right
U 131424 Right
C 131502 scr=46
R 131502 0 257 1668380399
D 131533 Right
U 131548 Up``` this is what the replay file looks like

=== @arceusplayer11 (discord: Deedee) 11/14/2022 18:11

if I change the two lines that say 131502 to 131501, it works for a bit

=== @ Russ 11/14/2022 19:31

When you manually fix it, where does it desync again?

=== @arceusplayer11 (discord: Deedee) 11/14/2022 19:40

sorry, I have to uncap through all of this to find where it desyncs

=== @arceusplayer11 (discord: Deedee) 11/14/2022 19:43

(replying to @ Russ "When you manually fix it, whe…"): scrolling north onto the kill all enemies screen in the island right beside Kawahai cave

=== @arceusplayer11 (discord: Deedee) 11/14/2022 19:47

I have a video of the recording

=== @ Moosh 11/14/2022 19:48

odd that it'd desync there when there's nothing fancy going on

=== @arceusplayer11 (discord: Deedee) 11/14/2022 19:48

I was in the water swimming
I had the speed augment equipped too

=== @ Moosh 11/14/2022 19:49

So could be something Link Movement related

=== @arceusplayer11 (discord: Deedee) 11/14/2022 19:50

I had just gotten the speed augment at the totem in Omaka

=== @arceusplayer11 (discord: Deedee) 11/14/2022 19:51

Seed is 1CE1CE
need to compress this video, it's just barely over discord's size limit

=== @ Moosh 11/14/2022 19:52

So that one killroom was where the desync became noticeable

=== @arceusplayer11 (discord: Deedee) 11/14/2022 19:52

It instantly crashes if it detects a desync

=== @ Moosh 11/14/2022 19:52

oh

=== @arceusplayer11 (discord: Deedee) 11/14/2022 19:52

it first happens at the top of Tel's pyramid
because I entered the top of the screen 1 frame early in the replay

=== @connorjclark (discord: connorclark) 11/14/2022 19:53

(replying to @arceusplayer11 (discord: Deedee) "It instantly crashes if it de…"): only for rng seed

=== @ Moosh 11/14/2022 19:53

How does it manage that?
hmm

=== @arceusplayer11 (discord: Deedee) 11/14/2022 19:53

whenever you scroll onto a screen, it sets the RNG seed
so it checks replay file if the RNG seed was set on that particular frame. If not, desync.

=== @ Moosh 11/14/2022 19:54

that's clever

=== @connorjclark (discord: connorclark) 11/14/2022 19:55

`-replay-debug` is a flag that will create replay files in debug mode, which will log the x,y and screen gfx hash every frame. This can be used to pinpoint the _exact_ frame stuff drifts.

I've been keeping it _off_ for normal replay creation because the file it creates becomes larges (many MBs), and hashing the frames is a bit heavy (but maybe won't impact fps really?) .... but, in this case, if it were on, we'd be able to know exactly when something goes wrong, instead of knowing just _what screen_

Maybe I should just turn it on by default.

=== @arceusplayer11 (discord: Deedee) 11/14/2022 19:57

@connorjclark (discord: connorclark) is there a way to start over from a particular point in a replay, and update it from that point?

=== @connorjclark (discord: connorclark) 11/14/2022 19:57

In mean time, deedee you could do a `-test ...` + `-record somefile.zplay` + `-replay-debug`  from command line to try to recreate a small repro
(replying to @arceusplayer11 (discord: Deedee) "@connorjclark (discord: connorclark) is ther…"): yes, read the big comment in the run replay tests python file
it's just one screen tho

=== @arceusplayer11 (discord: Deedee) 11/14/2022 19:58

there's a run replay tests python file?

=== @connorjclark (discord: connorclark) 11/14/2022 19:58

in `test/`

=== @connorjclark (discord: connorclark) 11/14/2022 20:00

Anyway, I think doing a `-test` run would be simpler. Updating is kinda finnicky.
Gotta end the replayed screen exactly the same way as to not F up the rest of the recording.

=== @arceusplayer11 (discord: Deedee) 11/14/2022 20:00

what does a -test run do?

=== @connorjclark (discord: connorclark) 11/14/2022 20:00

It's the test flag.
Test feature.

=== @arceusplayer11 (discord: Deedee) 11/14/2022 20:00

Does it just play the quest giving it the same inputs?

=== @connorjclark (discord: connorclark) 11/14/2022 20:01

no...
There's the test feature that's been present forever
and it can be _combined_ with making a recording
`-test game.qst dmap screen`
`-replay-debug -record myreplay.zplay`

=== @arceusplayer11 (discord: Deedee) 11/14/2022 20:02

ohh, you mean the test quest feature for ZQuest?
sorry, I'm more of a GUI person than a command line person

=== @connorjclark (discord: connorclark) 11/14/2022 20:03

yeah it sets these flags under the hood
there's also this
![image](https://cdn.discordapp.com/attachments/1024200173401935882/1041805551870419034/image.png?ex=65e62907&is=65d3b407&hm=ba952cab4680cec8e8d2381b70bccbe7a63b32f7edd97c664e23e18c21a4bfa1&)
turn that on and the GUI path will create a replay file too
but....not in debug mode
This is another area I gotta update re: config/command line flags parity.

=== @arceusplayer11 (discord: Deedee) 11/14/2022 20:06

Sorry if I'm being really dumb with asking, but do I run run_replay_tests.py?

=== @connorjclark (discord: connorclark) 11/14/2022 20:06

There are various examples commands in the comment there. https://github.com/ArmageddonGames/ZQuestClassic/blob/2.55-master/tests/run_replay_tests.py
You need to have python (3) installed.

=== @connorjclark (discord: connorclark) 11/14/2022 20:08

Also...because I default to a _sane_ build configuration where things end up in `build/Debug` or `build/Release`... that's the default for `--build_folder`. You may need to also set `--build_folder Debug`

=== @arceusplayer11 (discord: Deedee) 11/14/2022 20:13

```# To create a new replay test, run:
#    ./zelda -record path_to_file.zplay -test path_to_game.qst dmap screen``` is ./zelda the location of the ZC directory?
do I need to manually copy the ZC directory into the tests folder, or does the python do that for me?
(cause I know the output folder has a script that just makes a nightly for you)

=== @arceusplayer11 (discord: Deedee) 11/14/2022 20:18

I don't really know python, at all

=== @connorjclark (discord: connorclark) 11/14/2022 20:23

./zelda.exe for you
That particular command doesn't go thru the python script

=== @arceusplayer11 (discord: Deedee) 11/14/2022 20:23

Here's the video of the recording, though I doubt it helps
https://cdn.discordapp.com/attachments/1024200173401935882/1041810655302385674/2022-11-13_17-23-56.mp4?ex=65e62dc8&is=65d3b8c8&hm=4db7b0144c1a38f98482eee3115313d0df7f580abaf06395716c05854575507a&

=== @connorjclark (discord: connorclark) 11/14/2022 20:23

because I was lazy
(replying to @arceusplayer11 (discord: Deedee) "do I need to manually copy th…"): for this command, just go into the Debug folder and run the command (with `./zelda.exe` and `-replay-debug`). I'll make a note to improve the python command ... and to improve the debug flag so that the GUI will use it.
and add the debug flag to launcher..

=== @arceusplayer11 (discord: Deedee) 11/14/2022 20:27

I have the python command prompt open
how do I navigate to a folder?

=== @arceusplayer11 (discord: Deedee) 11/14/2022 20:29

cd (path) doesn't work

=== @connorjclark (discord: connorclark) 11/14/2022 20:31

(replying to @connorjclark (discord: connorclark) "That particular command doesn…"): ^
I gotta do work stuff, sorry I can't help further right now. This is all just through a normal command prompt.

=== @arceusplayer11 (discord: Deedee) 11/14/2022 20:32

ohh, it's pure command prompt?
sorry, I'm dumb

=== @connorjclark (discord: connorclark) 11/14/2022 20:32

No python for the thing I've suggested
(replying to @connorjclark (discord: connorclark) "In mean time, deedee you coul…"): ^
`./zelda.exe -replay-debug  -record path_to_file.zplay -test path_to_game.qst dmap screen`

=== @arceusplayer11 (discord: Deedee) 11/14/2022 20:41

and then play it back?

=== @connorjclark (discord: connorclark) 11/14/2022 20:43

`./zelda.exe -assert path_to_file.zplay`
but also...find the `// Paused = true` in replay.cpp by error logging and uncomment that to see it paused on exact frame

=== @arceusplayer11 (discord: Deedee) 11/14/2022 20:45

the replay doesn't desync 😦

=== @arceusplayer11 (discord: Deedee) 11/14/2022 21:00

I wonder if it has something to do with how long the replay is
curious if it just starts to desync after a while because of rounding errors or something

=== @connorjclark (discord: connorclark) 11/14/2022 21:04

Maybe try re-doing the entire run (launch with zelda.exe -replay-debug)
play like 5m, save, ensure the replay works (and that `-assert thefile.zplay` doesnt fail!) before doing much more than 5m

=== @arceusplayer11 (discord: Deedee) 11/14/2022 23:48

okay, redid the run, got another desync

=== @arceusplayer11 (discord: Deedee) 11/14/2022 23:50

Desync occured on line 73648 according to the trace I left
https://cdn.discordapp.com/attachments/1024200173401935882/1041862846855794779/Stellar_Seas-SHIRT-10.zplay?ex=65e65e63&is=65d3e963&hm=091a304532d688f9d4ead2ad4a0396b8d3b73446caf535f138e62fa77ef18aad&

=== @arceusplayer11 (discord: Deedee) 11/15/2022 00:03

uncommenting the line you said didn't pause the program

=== @arceusplayer11 (discord: Deedee) 11/15/2022 00:09

Happens on frame 55384, RNG desync

=== @arceusplayer11 (discord: Deedee) 11/15/2022 00:10

```C 55381 g CPO
C 55382 g :4
C 55383 g FJ3
C 55384 g D}N
C 55385 g B1V
C 55386 g F%W
C 55387 g EXU``` Doesn't seem to be any rng calls here, unless I'm missing something

=== @arceusplayer11 (discord: Deedee) 11/15/2022 00:17

Okay, this is interesting

=== @arceusplayer11 (discord: Deedee) 11/15/2022 00:18

I checked my recording, and apparently at this time I pressed the F6 button, but then decided against F6ing and pressed "No"; for some reason it seems to think that I actually F6 continue'd there, which causes a desync

=== @EmilyV99 (discord: Emily) 11/15/2022 00:19

ooooh
that's an odd edgecase

=== @EmilyV99 (discord: Emily) 11/15/2022 00:21


![image](https://cdn.discordapp.com/attachments/1024200173401935882/1041870573220921374/image.png?ex=65e66595&is=65d3f095&hm=1510c6e15d833ff20316d6c865d0c36b36738df9f3f328eb90d405e5cfffdf1d&)
`zc_sys.cpp line 5063`
@connorjclark (discord: connorclark) that's not a valid anything
GAMEFLAG_TRYQUIT, as it's named, means that the game needs to *TRY* to quit
which does not mean it *WILL* quit
You should instead be checking the `Quit` state *AFTER* the `runF6Engine()` call
....because this is related to F6 script stuff, quests saved in versions older than 2.55 will have a compat rule on that makes the TRYQUIT flag *never* get set
so this never would have come up in like, 1st.qst, for example- only newer quests

=== @arceusplayer11 (discord: Deedee) 11/15/2022 00:25

@EmilyV99 (discord: Emily) what flag should I check?

=== @arceusplayer11 (discord: Deedee) 11/15/2022 00:26

oh, wait
I just move the check above that down below the runf6engine, right?
sorry, brain off

=== @connorjclark (discord: connorclark) 11/15/2022 00:34

cool. what does f6 mean. scripts run on pressing f6 key?

=== @arceusplayer11 (discord: Deedee) 11/15/2022 00:35

F6 is the key that brings up the End Game menu

=== @arceusplayer11 (discord: Deedee) 11/15/2022 00:36

There's also scripts that can hijack that menu and make it so instead of doing that, they run a script(think custom game over menus)

=== @connorjclark (discord: connorclark) 11/15/2022 00:37

gotcha. i thought it was a reference to the car 😛

=== @arceusplayer11 (discord: Deedee) 11/15/2022 00:37

this menu
![image](https://cdn.discordapp.com/attachments/1024200173401935882/1041874569180500098/image.png?ex=65e6694e&is=65d3f44e&hm=8d9ecac385258088268154439bd5e7ae693bdb3fd59501f947192149199867c6&)
ah, haha
sorry, don't realize how weird ZC terminology might sound to other people

=== @arceusplayer11 (discord: Deedee) 11/15/2022 22:50

Noticing that even if you click "no" when asked if you want to record a save file, ZC still makes a file
A lot of these are the result of me clicking 'No'
![image](https://cdn.discordapp.com/attachments/1024200173401935882/1042210065484099672/image.png?ex=65e7a1c2&is=65d52cc2&hm=096248888f9b2af93cf8720b0f19da0d6836007a2e539d3600bd341c56224ae1&)

=== @ NightmareJames 11/16/2022 03:44

Still crashing here, don't know why.  Screen above start - After L1
https://cdn.discordapp.com/attachments/1024200173401935882/1042284041250013234/James_Quest_Sidestory_-_D_6.38_-_11-16_Nightly_-_Crash_2nd_screen_post_L1.zip?ex=65e7e6a8&is=65d571a8&hm=f6434398c4afe78959e4d475087866fbe3a79f02c477db2223ad27244eb76754&

=== @connorjclark (discord: connorclark) 11/16/2022 04:14

Officially saying, no more bug reports re: replays now, it's probably all the same issue 😁

=== @connorjclark (discord: connorclark) 11/17/2022 01:07

What's a quest with a f6 script?

=== @EmilyV99 (discord: Emily) 11/17/2022 01:08

good question...

=== @connorjclark (discord: connorclark) 11/17/2022 01:08

`GAMEFLAG_TRYQUIT` needs to be set during replay, if a f6 script is present. Otherwise that script would never run. The change deedee did was right wrt moving the replay_step_quit after the f6 engine, but I think the other bit shoulda stayed
gotta test it

=== @ Russ 11/17/2022 01:10

I don't know if any quests with an F6 script actually exist due to limitations of the F6 script we've brought up in the past

=== @EmilyV99 (discord: Emily) 11/17/2022 01:11

Which limitations?

=== @connorjclark (discord: connorclark) 11/17/2022 01:11

In that case, I'll just add back the code I'm pretty sure is needed for it to function during replay.
without testing 🙂

=== @EmilyV99 (discord: Emily) 11/17/2022 01:11

I'll give you connor that looking at it a bit deeper I do think you're right
so a second pair of eyes agrees

=== @ Russ 11/17/2022 01:12

(replying to @EmilyV99 (discord: Emily) "Which limitations?"): Namely that the scripts run as soon as F6 is pressed, rather than after confirming the allegro dialogue window

=== @EmilyV99 (discord: Emily) 11/17/2022 01:12

Why is that specifically an issue? You can exit out of the script without quitting/continuing, right?
So, you should be able to just have a `Cancel` button as an option
i.e. `Continue`, `Save and Continue`, `Save and Quit`, `Quit`, `Cancel`

=== @EmilyV99 (discord: Emily) 11/17/2022 01:14

https://www.purezc.net/index.php?page=scripts&id=348
Avaro made this when I first added F6 stuff

=== @ Russ 11/17/2022 01:15

Mostly because it'd be nice to still use the familiar ZC trappings rather than have to reinvent the wheel and mess with people's muscle memory

=== @EmilyV99 (discord: Emily) 11/17/2022 01:15

eh, I suppose that's fair
but not sure how easy that is
....frankly probably not bad
though here's the important part; if that's something you want added.... #deleted-channel exists for a reason
(if you want to write one up for that, I'll probably get around to adding it)
(it'll need to be a qr

=== @connorjclark (discord: connorclark) 11/17/2022 02:11

```
commit bd280b

    add test_mode_record to launcher

commit 2773a7

    add replay config options to launcher

commit 1af540

    (probably) handle recording f6 scripts
    
    apparently no one uses this feature, so I didn't bother testing. so
    maybe it works!

commit fe7b61

    save replay even on quit
    
    Previously replays only saved on quit for test mode, but in order
    to better handle features like save points - where the game is saved but
    doesn't exit - cannot tie replay saving to quitting. Otherwise, the time
    between saving and doing an actual "quit game" would not be captured in
    the replay; and it wouldn't be 100% right to always exit (and force
    going through init_game) when a save point is used during replay.

commit bc6de9

    fix cheats during replay, stop deferring a frame

commit 3fbb6d

    fix dialog prompt for creating replay file

commit 02e8df

    sanitize filename for replays
```

still todo:

- keyboard input
- mouse input
Next nightly will have all that
@ DeletedUser I may have fixed most of your reports, for some (like the last one) I need a new replay for. Make sure you enable the "replay debug" option in the launcher for ZC this time.
Maybe first try just test mode (turn on the recording option in launcher first) on that one screen to see if the replay breaks

=== @ NightmareJames 11/17/2022 02:12

I use Win 10 and 11, how do I do that?

=== @connorjclark (discord: connorclark) 11/17/2022 02:13

The options are in the ZC launcher.

=== @ NightmareJames 11/17/2022 02:13

I'll look it over more later tonight/tomorrow
Just what the heck happened?
Especially on Sidestory, going through 4-5 different nightlys?
On like the same screen?

=== @connorjclark (discord: connorclark) 11/17/2022 02:21

I don't know. I just tried test mode onto that screen and nothing broke. It could be I fixed it, or it relies on something else to have happened earlier in the playthrough.

=== @ NightmareJames 11/17/2022 02:23

I'll look into it tomorrow afternoon then
Dr. appt coming up

=== @connorjclark (discord: connorclark) 11/17/2022 02:29

I opened that james quest file into the current zquest and saved, and now it got corrupted :/

=== @ NightmareJames 11/17/2022 04:29

Lovely
I'm so sorry

=== @ NightmareJames 11/17/2022 04:33

6.38 (and later) are made in Alpha 111

=== @ NightmareJames 11/17/2022 04:36

This is the latest James Quest:  Sidestory.  Same Alpha (111)
https://cdn.discordapp.com/attachments/1024200173401935882/1042659427616051220/jamesquest-sidestory-6.39.1.qst?ex=65e94443&is=65d6cf43&hm=65b52a184f37afd73afdb5be5fc84c4b1697262d34da6ff365e577b7649be7c6&

=== @connorjclark (discord: connorclark) 11/17/2022 04:41

What's a quest that reads keyboard input?
(need to test raw input ... and KeyInput)

=== @EmilyV99 (discord: Emily) 11/17/2022 04:42

Majora's Mask 2D used it, though that's very old now
probably easier to make a quick test quest

=== @EmilyV99 (discord: Emily) 11/17/2022 04:47


https://cdn.discordapp.com/attachments/1024200173401935882/1042662158225379338/keytest.qst?ex=65e946ce&is=65d6d1ce&hm=8ca8d766d3576f41473aa87502bf24aea031ae3ee4bbf809e28976120bcc4670&
This tests `KeyPress[]` and `Key[]`
Every press of `Tab` prints the word `Tab` to the console
and if the `T` key is down, the whole screen will be colored white

=== @EmilyV99 (discord: Emily) 11/17/2022 04:49

`KeyRaw[]` and `ReadKey[]` are.... frankly untested to begin with, and I have no clue if they really even work
they were added by Zoria first
then I added `KeyPress[]` and `Key[]` as a more sane implementation
afaik KeyRaw is direct access to the allegro `key[]` array

=== @EmilyV99 (discord: Emily) 11/17/2022 04:51

....oh, though `ReadKey[]` uses `zc_readkey()`, which appears to access the same array as `KeyPress[]`?
....yeah, it is
which means not only is it NOT doing what it's documented to do
it's fucking *identical* to `KeyPress[]`
*sigh* anything Zoria touches is a mess
So yeah, I wouldn't worry about those 2, the test quest above tests `KeyPress[]` and `Key[]` which are the actual important ones

=== @connorjclark (discord: connorclark) 11/17/2022 09:27

I think I've got a working solution, but I'll give a test build before merging. https://github.com/connorjclark/ZeldaClassic/releases/tag/connorjclark-nightly-2022-11-17-3
@arceusplayer11 (discord: Deedee) did you mention Stellar Seas uses kb input?

=== @arceusplayer11 (discord: Deedee) 11/17/2022 09:27

yeah, it does
Should I retest Stellar Seas and report any desyncs I find?
Or are you not looking for desyncs at the moment?

=== @connorjclark (discord: connorclark) 11/17/2022 09:36

Yeah, i fixed a bunch of things so I need new bug reports now
testing SS would be good

=== @ NightmareJames 11/17/2022 09:50

(replying to @connorjclark (discord: connorclark) "I opened that james quest fil…"): What exactly happened here?  I can't correct the problem besides give you other versions if I don't know how it happened

=== @connorjclark (discord: connorclark) 11/17/2022 09:51

I suspect it's an issue with zquest, not your quest.
I don't need any action from you on this

=== @ NightmareJames 11/17/2022 09:55

(replying to @connorjclark (discord: connorclark) "I don't need any action from…"): 1.  Should I continue developing on A 111, or upgrade to a stable nightly?
2.   What should I shift to?  Demo SP or Layered for now?

=== @connorjclark (discord: connorclark) 11/17/2022 18:44

James first I need confirmation that the above test build still records well, not just for script keyboard input but anything. So maybe try a quest with layers now but stop and verify it occasionally

=== @connorjclark (discord: connorclark) 11/17/2022 19:04

as part of this I've adding a new replay step for saving the keyboard mapping. you can currently switch it between loading save files and it should all still work. gonna see if I can now re-enable the Controls setting dialog during recording.

=== @connorjclark (discord: connorclark) 11/17/2022 19:05

^oh, it was only disabled during _replay_... So I gotta make sure changing that during record properly records the new mapping in the replay file

=== @connorjclark (discord: connorclark) 11/17/2022 19:07

ya all good

=== @ NightmareJames 11/17/2022 20:02

OK
Will do

=== @ NightmareJames 11/17/2022 23:07

Well, you're not going to like this @connorjclark (discord: connorclark) , but when I load in the 11/17 nightly with replay debug on First Quest Layered it just decides to crash outright when I start it.  🙁
Put the option on with the Launcher, no file found

=== @connorjclark (discord: connorclark) 11/17/2022 23:08

try making a folder called "replays" in your zc directory...
just a hunch
Is this via test mode in zquest?

=== @ NightmareJames 11/17/2022 23:08

No, this is via ZC Player

![image](https://cdn.discordapp.com/attachments/1024200173401935882/1042939593214918676/image.png?ex=65ea492f&is=65d7d42f&hm=834fe57b86893eb47f260442c36341a036a0fadc162c3849fe95da7312c0ed51&)

![image](https://cdn.discordapp.com/attachments/1024200173401935882/1042939652220395620/image.png?ex=65ea493d&is=65d7d43d&hm=e65a168d48fe183c4d2482d758a93732d79dc623e81620160fda035d428fea8b&)

=== @connorjclark (discord: connorclark) 11/17/2022 23:10

All good, I found the error reported on Sentry.

=== @ NightmareJames 11/17/2022 23:13

I think I'm going back to my server to hang out for the night, if you need anything @ me

=== @connorjclark (discord: connorclark) 11/18/2022 00:00

@ DeletedUser https://github.com/connorjclark/ZeldaClassic/releases/tag/connorjclark-nightly-2022-11-17-5

=== @ NightmareJames 11/18/2022 00:01

Cool, but might br a while.  Took an Ativan

=== @arceusplayer11 (discord: Deedee) 11/18/2022 11:53

Seems like the RNG desyncs really early on now
it doesn't immediately error though

=== @arceusplayer11 (discord: Deedee) 11/18/2022 11:57

the thing I'm testing (Stellar Seas randomizer (I know you're probably sick of hearing about Stellar Seas but it's a thing I enjoy playing and it's one of the only quests made in 2.55)) loads a random seed for it's randomizer; this can then either be edited via keyboard or by directional inputs to change the seed

=== @arceusplayer11 (discord: Deedee) 11/18/2022 11:58

the problem is that the initial seed is set wrong for some reason, so the seed that gets input afterward desyncs when using directionals (cause it'll be offset wrong)

=== @arceusplayer11 (discord: Deedee) 11/18/2022 12:54

hmm, actually, I wonder if it's just because I'm using keyboard inputs

=== @arceusplayer11 (discord: Deedee) 11/18/2022 12:56

wait am I just a dumbass and this is happening because I'm building manually instead of using that nightly

=== @arceusplayer11 (discord: Deedee) 11/18/2022 13:00

okay yeah, I think I'm just dumb; sorry!
I'll need to do another indepth test now that I know to use that nightly

=== @ Russ 11/18/2022 13:33

... lol
Well, problem solved, at least

=== @ NightmareJames 11/18/2022 17:30

No issues early on, will keep playing (First Quest Layered)
https://cdn.discordapp.com/attachments/1024200173401935882/1043216552998219866/First_Quest_Layered_-_11-17-t_Nightly_-_Preliminary_-_No_Issues.zip?ex=65eb4b20&is=65d8d620&hm=3a75ab3636461a1259e86a5013c9f958d0c45e2e4a8471b7045fc52f443e81ae&

=== @ NightmareJames 11/19/2022 01:11

OK, here's what I got on this quest so far
https://cdn.discordapp.com/attachments/1024200173401935882/1043332722699014245/First_Quest_Layered_-_11-17-t_Nightly_-to_Lv._5_-_No_Major_Issues.zip?ex=65ebb751&is=65d94251&hm=620d02199ea062ad26c58579b5637ebbcb65f6fe78094d5e1a96616289dd20e8&
Now how do I turn on Assert Mode?

=== @EmilyV99 (discord: Emily) 11/19/2022 01:12

I presume connor only has that on the command line at the moment, so he'll need to add a gui button
assert mode is how we use the replays in tests, whenever we push changes to the code it runs all the replays set up for tests in assert mode, so if anything is at all off the compile tests fail.

=== @ NightmareJames 11/19/2022 01:13

I really like the sound to that

=== @ NightmareJames 11/19/2022 01:15

Forgive me if I'm a bit of an action player in my quest style likes
Slow puzzle drag outs tend to get on my nerves sometimes
Anyway, getting food

=== @ NightmareJames 11/19/2022 01:24

That food was good, break needed
Again, sorry for the crankiness

=== @EmilyV99 (discord: Emily) 11/19/2022 01:25

Stop apologizing, dude
That's your main problem
<:hugheart:1012188325790089317>
We're trying to help you, here ❤️

=== @ NightmareJames 11/19/2022 01:26

:: hugs :: Thank you

=== @EmilyV99 (discord: Emily) 11/19/2022 01:27

I'm not mad or anything at you being "cranky", I'm worried that you're doing more work than you need to and want to help
the whole point of the replays is that they should auto-detect changes in playback, so it shouldn't NEED to be done manually at slow speed
If you're doing a debug replay, it even checks that the draws to the screen each frame are the exact same
because it saves a hash of the screen every frame

=== @ NightmareJames 11/19/2022 01:28

:: nods ::
I'll pick up this convo on my phone, going to lay down, a little exhausted

=== @EmilyV99 (discord: Emily) 11/19/2022 01:28

<:hugheart:1012188325790089317><:hugheart:1012188325790089317>
get some rest!

=== @ NightmareJames 11/19/2022 01:29

I'm just glad there's no crashes this time around.  💚

=== @EmilyV99 (discord: Emily) 11/19/2022 01:30

The replays are a great help to our testing, and will be absolutely needed for Z3 scrolling level of changes to be tested well
thank you for all the help ❤️ ❤️

=== @ NightmareJames 11/19/2022 01:31

Also, THANK YOU for helping me IRL
i've been working a lot and doing a lot of ZC playing to relieve stress
Admittedly

=== @EmilyV99 (discord: Emily) 11/19/2022 01:31

🫂🫂🫂🫂🫂🫂🫂

=== @arceusplayer11 (discord: Deedee) 11/19/2022 03:24

very minor thing, but if the replay has me uncapping, uncapping through the replay via f1 will cause the parts where I uncapped during gameplay to be capped

=== @arceusplayer11 (discord: Deedee) 11/19/2022 03:25

I just did a run of Stellar Seas with that nightly and had no problems; was able to go through an over one hour long run from start to finish with no desyncs

=== @connorjclark (discord: connorclark) 11/19/2022 03:25

are you saying the input to cap/uncap is being recorded?

=== @arceusplayer11 (discord: Deedee) 11/19/2022 03:26

yeah

=== @connorjclark (discord: connorclark) 11/19/2022 03:26

With the new key input build?

=== @arceusplayer11 (discord: Deedee) 11/19/2022 03:26

it is

=== @connorjclark (discord: connorclark) 11/19/2022 03:26

I thought i ignored F keys..

=== @arceusplayer11 (discord: Deedee) 11/19/2022 03:26

Tilde key

=== @connorjclark (discord: connorclark) 11/19/2022 03:26

Oh
I'll ignore that too
Is this configureable?
Or always tilde

=== @arceusplayer11 (discord: Deedee) 11/19/2022 03:26

Always tilde as far as I know

=== @connorjclark (discord: connorclark) 11/19/2022 03:26

Ok thanks

=== @EmilyV99 (discord: Emily) 11/19/2022 03:33

F1 is toggle, tilde is hold-to-change
and, the keys themselves do need to be available for script input
including all of the F keys
I know there exists at least a couple scripts that use F keys for things
so, you need to make it specifically ignore the engine use of the press without changing the script access

=== @connorjclark (discord: connorclark) 11/19/2022 03:52

Should be straightforward
little if statement in syskeys

=== @EmilyV99 (discord: Emily) 11/19/2022 03:53

aye, shouldn't be bad

=== @connorjclark (discord: connorclark) 11/19/2022 03:53

what about...esc
for some fucking reason I think clicking emits an escape key input?
iirc

=== @EmilyV99 (discord: Emily) 11/19/2022 03:54

🤷‍♀️
probably just want to make things the engine uses esc/F keys for use a separate input array from the scripts during replays
...eh, not all of them. Really just esc, F1, and tilde
(Scripts may want to access the other F keys)

=== @ NightmareJames 11/19/2022 23:29

First Quest Layered is approaching one million frames
Have fun Connor.  😝

=== @connorjclark (discord: connorclark) 11/19/2022 23:48

(replying to @ NightmareJames "OK, here's what I got on this…"): verified working

=== @ NightmareJames 11/19/2022 23:49

Cool, I'm looking over Lv. 8
I'm very exhausted RN

=== @connorjclark (discord: connorclark) 11/19/2022 23:49

btw
![image](https://cdn.discordapp.com/attachments/1024200173401935882/1043674492016275537/image.png?ex=65ecf59d&is=65da809d&hm=fa6aa8271d35313916c95e4d4e7853c12fda3bf5329f51573007bdac829c1540&)

=== @ NightmareJames 11/19/2022 23:50

Nice
When will that be available?

=== @connorjclark (discord: connorclark) 11/19/2022 23:50

but don't attempt to use it with this next build w/ your existing replay; will just fail because I fixed the show time bug.
Building now.
Don't bother verifying yourself, I can do that.

=== @ NightmareJames 11/19/2022 23:50

But it'll work for rebuilt Demo SP, right?

=== @connorjclark (discord: connorclark) 11/19/2022 23:51

It should work for any new replay.

=== @ NightmareJames 11/19/2022 23:51

OK, so basically the marching orders:  Just finish Lv. 9 at this point
Don't care how it's done
You'll take care of the rest, correct?

=== @connorjclark (discord: connorclark) 11/19/2022 23:51

You don't _have_ to finish the quest
it's already pretty long lol

=== @ NightmareJames 11/19/2022 23:52

Honestly, good riddance
https://cdn.discordapp.com/attachments/1024200173401935882/1043675201906413649/First_Quest_Layered_-_11-17-t_Nightly_-_To_Level_8.zip?ex=65ecf646&is=65da8146&hm=b1109d15a44242479f2d88edf35b1b092fb9891dd8f3f4a31bfce4823dd309e8&
I did not like this one until the end
Thank you
I'm going to take a nap and restart Demo SP on the next nightly
You should have one million reasons to debug frames and layers with this.  😝

=== @connorjclark (discord: connorclark) 11/20/2022 03:27

(replying to @EmilyV99 (discord: Emily) "probably just want to make th…"): pretty much did this, for all the relevant keys used in `syskeys`; plus tilde
`zc_get_system_key` and `zc_read_system_key`
are now a thing
(replying to @arceusplayer11 (discord: Deedee) "I just did a run of Stellar S…"): awesome!
any chance you saved the replay?

=== @arceusplayer11 (discord: Deedee) 11/20/2022 04:11

yeah, I should have it

=== @arceusplayer11 (discord: Deedee) 11/20/2022 04:33


https://cdn.discordapp.com/attachments/1024200173401935882/1043745809197432832/Stellar_Seas-SHIRT-7.zplay?ex=65ed3808&is=65dac308&hm=e3ddf6e11881bda6ce5e804b08c755bb7413ebec758c4e044bdd1cf741af71b3&
debug replay

=== @connorjclark (discord: connorclark) 11/20/2022 04:33

nice

=== @arceusplayer11 (discord: Deedee) 11/20/2022 04:41

bad news, I found another desync

https://cdn.discordapp.com/attachments/1024200173401935882/1043747885440839680/Stellar_Seas-SHIRT-8.zplay?ex=65ed39f7&is=65dac4f7&hm=fa93f6384aa77be708d6394570062e6a51e65ef108c1ae5103e9ab3ee51a4d67&

https://cdn.discordapp.com/attachments/1024200173401935882/1043748049245184130/StellarSeasRandomizer.qst?ex=65ed3a1e&is=65dac51e&hm=876fdc7bb8e04c2404944db845261e544a017c1d06f09d877a2cfba9f7be7d15&

=== @connorjclark (discord: connorclark) 11/20/2022 04:43

Let's try a new thing: #deleted-channel
it says "new thread for each replay", but actually it's best to keep it to one thread for each quest+author combo I think
so if Deedee keeps giving seas replays, it'll all be in one thread. but if James does a Seas replay, that's a new thread.
@ DeletedUser sound good moving forward?

=== @arceusplayer11 (discord: Deedee) 11/20/2022 04:46

I hope I'm not too annoying testing just this one quest haha

=== @connorjclark (discord: connorclark) 11/20/2022 04:47

all goooood lol
wanna make the inaugural thread in the new channel?

=== @ NightmareJames 11/20/2022 04:48

Make a new channel, and then new threads.  👍

=== @EmilyV99 (discord: Emily) 11/20/2022 04:48

it's make a new forum channel post

=== @ NightmareJames 11/20/2022 04:49

(replying to @EmilyV99 (discord: Emily) "it's make a new forum channel…"): OH THAT'S RIGHT, forgot about the new system

=== @EmilyV99 (discord: Emily) 11/20/2022 04:49

#deleted-channel

=== @ NightmareJames 11/20/2022 04:49

🤦‍♂️
TY Emily

=== @ NightmareJames 11/20/2022 04:52

Let me get a soda, then I'll post all the completed ones

=== @ NightmareJames 11/20/2022 05:59

Hopefully I got all the ones I know of, please verify @connorjclark (discord: connorclark)

=== @ NightmareJames 11/20/2022 06:18

Also, let me know when the new build is out
Going sleepy
😴

=== @connorjclark (discord: connorclark) 11/20/2022 07:15

https://github.com/connorjclark/ZeldaClassic/releases/tag/connorjclark-nightly-2022-11-20-2

=== @ NightmareJames 11/22/2022 07:44

This looks like a bug on my end Connor, but what does this mean?

![image](https://cdn.discordapp.com/attachments/1024200173401935882/1044518694992232458/image.png?ex=65e6cd57&is=65d45857&hm=ae73742218d8ca8eaf605f5ffd8f1fb4247a4d0dd3866719605c6f736ddd1135&)

=== @ NightmareJames 11/22/2022 07:45

(ran an assert on a new version of New Quest I'm dev'ving)

=== @connorjclark (discord: connorclark) 11/22/2022 08:31

Did you change the quest file?
Specifically, the init data?

=== @EmilyV99 (discord: Emily) 11/23/2022 02:43

ah, that makes sense

=== @ NightmareJames 11/26/2022 07:21

Small note, ZC did decide to crash at the end of the update new replay, but it was post everything and the new replay worked fine.  IDK what happened, for now considering it very minor

=== @ NightmareJames 11/26/2022 07:40

My replay schedule is going to change due to requests:

1.  Demo SP
2.  One of Evan's.
3.  Shadowblazer's Tiny Quest Gold.

After that, big changes:

1.  Panolpy of Catalina (getting requests from EVERYBODY to play this now)
2.  Stellar Seas (if Deedee is done with it by then)

=== @connorjclark (discord: connorclark) 11/26/2022 18:43

Are any side scrolling?
https://discord.com/channels/876899628556091432/876908472728453161/1045569441448087582

Ah I think panoply is
We may need to prioritize that so we have it before the slopers branch is landed
What's the timeline on that @EmilyV99 (discord: Emily) ?

=== @arceusplayer11 (discord: Deedee) 11/26/2022 18:45

I think Emily just made a pull request for it?

=== @EmilyV99 (discord: Emily) 11/26/2022 18:45

I just merged it

=== @connorjclark (discord: connorclark) 11/26/2022 18:45

Well, now I suppose.

=== @arceusplayer11 (discord: Deedee) 11/26/2022 18:45

ooof, bad timing

=== @connorjclark (discord: connorclark) 11/26/2022 18:46

James can make the replay in an existing nightly for a side scrolling quest, just to be sure
Seems like it would have touched related code
Is that right?

=== @EmilyV99 (discord: Emily) 11/26/2022 18:47

Touched some, though most was behind a new compat qr
so it should mostly be safe?

=== @arceusplayer11 (discord: Deedee) 11/26/2022 18:47

there was an issue with self trigger only's that I just fixed right before Emily merged

=== @EmilyV99 (discord: Emily) 11/26/2022 18:47

that's not sideview related though
which is what he's asking

=== @arceusplayer11 (discord: Deedee) 11/26/2022 18:47

No, but it'd break quests that use it, and I think panoply might? unsure

=== @EmilyV99 (discord: Emily) 11/26/2022 18:48

true, it would be an issue, if not for you just having fixed it

=== @connorjclark (discord: connorclark) 11/26/2022 18:48

I need to figure out a way to determine which code paths or QRs are not covered by current replays

=== @arceusplayer11 (discord: Deedee) 11/26/2022 18:48

(replying to @EmilyV99 (discord: Emily) "true, it would be an issue, i…"): yeah; I'm concerned about desyncs

=== @EmilyV99 (discord: Emily) 11/26/2022 18:48

clearly it wasn't caught by any of our existing replays, given that we had been passing tests

=== @arceusplayer11 (discord: Deedee) 11/26/2022 18:48

because the point is making a replay in a pre-slope version to test if slopes being added broke anything
most of our replays are pretty basic quests though

=== @connorjclark (discord: connorclark) 11/26/2022 18:49

We are not anywhere close to full coverage on replays.
We need more than James to get there

=== @EmilyV99 (discord: Emily) 11/26/2022 18:50

@ DeletedUser nominate Link's Grand Adventure, both 2 and 3, for replays. They might be helpful, and aren't that terrible to play.

=== @connorjclark (discord: connorclark) 11/26/2022 18:50

We need like 5 James lol

=== @arceusplayer11 (discord: Deedee) 11/26/2022 18:50

I'd be willing to make replays

=== @EmilyV99 (discord: Emily) 11/26/2022 18:51

I'm not much of a quest player myself

=== @arceusplayer11 (discord: Deedee) 11/26/2022 18:51

I know Lejes ran into an issue in Hero of Elements involving flippers

=== @ NightmareJames 11/26/2022 18:52

@connorjclark (discord: connorclark) , you're in charge of this, you make the call.  Would you like more in scripting with Demo SP, or more in sidescrolling with Panolpy?  Which is the bigger priority?
Except for intro'ing a new player, everybody's calling for me to play Panolpy anyway

=== @connorjclark (discord: connorclark) 11/26/2022 18:55

Panolpy
But in a pre slopes build

=== @arceusplayer11 (discord: Deedee) 11/26/2022 18:57

Panoply is also heavily scripted
Panoply's a good test quest

=== @ NightmareJames 11/26/2022 19:02

OK, cool
What's the last nightly not to include anything slopes?

=== @EmilyV99 (discord: Emily) 11/26/2022 19:07

no slopes nightly is posted yet

=== @connorjclark (discord: connorclark) 11/26/2022 19:07

https://github.com/ArmageddonGames/ZQuestClassic/releases/tag/nightly-2022-11-26

=== @EmilyV99 (discord: Emily) 11/26/2022 19:08

^

=== @ NightmareJames 11/26/2022 19:09

OK, keep me informed when you add it, thank you

=== @EmilyV99 (discord: Emily) 11/26/2022 19:09

the next nightly that comes out in ~30min to 1hr will have slopes stuff
so, don't use that one

=== @arceusplayer11 (discord: Deedee) 11/27/2022 07:36

played two quests and both of the replays desynced eventually v.v

=== @EmilyV99 (discord: Emily) 11/27/2022 07:38

oof
if it desyncs in the same build it's recorded in, definitely something to report

=== @arceusplayer11 (discord: Deedee) 11/27/2022 07:40

yeahh
one of them was a 2.10 quest, no scripted stuff going on

=== @arceusplayer11 (discord: Deedee) 11/27/2022 18:55

yeah, getting a few RNG desyncs
unsure if I should post here or the replays forum

=== @connorjclark (discord: connorclark) 11/27/2022 19:45

Replay forum please
Easier to track each thing
Please include the quest and a few bmps if any were generated

=== @ NightmareJames 11/28/2022 03:23

Hopefully got to the bottom of the JQ Sidestory stuff this time Connor

=== @ NightmareJames 11/30/2022 15:22

Any of the other busted replays of mine you want me to go over in the new nightlies Connor?

=== @ NightmareJames 12/01/2022 07:41

Just one question:  How do you show the frames of the replay in V7 and above?  Looks like you changed it
@connorjclark (discord: connorclark)

=== @EmilyV99 (discord: Emily) 12/01/2022 07:42

I'd bet it's just disappearing the same as the fps counter in the render refactor

=== @ NightmareJames 12/01/2022 07:44

Lovely

=== @ NightmareJames 12/01/2022 07:46

Isle of Rebirth next (don't know how long I'm going to stick with it, but there are some bugs in the engine I definitely want to check out with that before doing 2.55 quests in earnest)
Schedule:

Isle of Rebirth
Tiny Quest:  Gold
Panolpy of Catalina (by request)
Stellar Seas (if DeeDee gets done with it)

=== @connorjclark (discord: connorclark) 12/01/2022 07:59

Some actions on Windows seem to delete the font/text data. You can recover if you toggle fullscreen, I think.
allegro 5 bug I need to look into more

=== @arceusplayer11 (discord: Deedee) 12/01/2022 08:41

(replying to @ NightmareJames "Schedule:

Isle of Rebirth
Ti…"): Stellar Seas I've finished a long time ago; I just keep replaying it cause it has a randomizer

=== @connorjclark (discord: connorclark) 12/01/2022 09:00

99% of my time with SS has been on that randomizer screen lol

=== @ Russ 12/01/2022 11:38

lol

=== @ NightmareJames 12/01/2022 18:22

Isle of Rebirth will end my old version testing of replays; however, it could be the most thorny and sticky
If anyone else wants to continue with old quests, feel free

=== @arceusplayer11 (discord: Deedee) 12/05/2022 11:18

@connorjclark (discord: connorclark) I feel like I know the answer, but do replays store the mouse X/Y?
Panoply and one or two other quests use the mouse for things
Oh fuck, I hope that ping didn't wake you

=== @EmilyV99 (discord: Emily) 12/05/2022 11:23

Appears `no`
I see nothing saving mouse x/y or button states

=== @arceusplayer11 (discord: Deedee) 12/05/2022 11:55

Panoply would otherwise be very good replay material given it's a scripted quest done by someone who was an outsider to the community (and thus different scripting habits, weird jank, etc)

=== @connorjclark (discord: connorclark) 12/05/2022 17:20

I might do something new here and detect if any mouse zasm instructions exist before recording the mouse. Otherwise it's a waste and could balloon some replays
Button states? Like gamepad analog sticks (not recorded) or something else?

=== @connorjclark (discord: connorclark) 12/05/2022 17:23

Or maybe I should just record reads of the zasm mouse read position ...
shrug. What point into this quest will I find mouse stuff

=== @ Russ 12/05/2022 18:07

An easy one to check mouse might be Yuurand. Just select Eli as the character. He has mouse controls at all times. Could also do Mitsu 6th and turn on zapper ducks

=== @EmilyV99 (discord: Emily) 12/05/2022 18:08

(replying to @connorjclark (discord: connorclark) "Button states? Like gamepad a…"): As in mouse button, lclick/rclick/mouse Z

=== @connorjclark (discord: connorclark) 12/05/2022 20:23

o ya

=== @arceusplayer11 (discord: Deedee) 12/05/2022 22:25

(replying to @connorjclark (discord: connorclark) "shrug. What point into this q…"): one of the first 4 dungeons (nonlinear quest, you can do the first 4 dungeons in any order) has the fairy companion which uses the mouse
It's the dungeon at the top of the vine IIRC

=== @ NightmareJames 12/08/2022 03:34

Playing back/updating old replays in newest nightly

=== @connorjclark (discord: connorclark) 12/08/2022 03:35

Wait
The input bug has not been fixed

Hold off until that's done

=== @connorjclark (discord: connorclark) 12/08/2022 03:38

Latest nightly doesnt have that yet just my test build

=== @ NightmareJames 12/08/2022 18:45

OK

=== @ NightmareJames 12/08/2022 20:51

New Quest 2013 is still desyncing (somewhere around Level 4), and First Quest Layered is now Desyncing very late (in Level 9) in your test build
I don't know what you want to do about these @connorjclark (discord: connorclark)
ZNR and Demo SP are fine
And I'll probably start Evan's Isle of Rebirth soon
(know that's going to be a mess, but it has to be at least looked at)
BTW, the desync on First Quest Layered is ALWAYS on the same spot

=== @ NightmareJames 12/08/2022 20:56

Let me make a Sidestory one (pretty sure it'll fail, but you want V8 ones, so here we go)
New save new version, (Mario) HERE WE GO!

=== @connorjclark (discord: connorclark) 12/08/2022 21:07

(replying to @ NightmareJames "BTW, the desync on First Ques…"): Can you make a small replay with the test mode feature? thanks

=== @ NightmareJames 12/08/2022 21:15

OK, give me a few minutes

=== @ NightmareJames 12/08/2022 21:18

Which quest, and which room?
(and man, James Quest:  Sidestory always causes problems.  I'm going to have to upgrade it from Alpha 111 when the next alpha comes out)

=== @ NightmareJames 12/08/2022 21:31

(just to be advised, I'm doing a backup ATM, I'll do this test afterwards)

=== @connorjclark (discord: connorclark) 12/08/2022 21:52

> First Quest Layered is ALWAYS on the same spot
this one..

=== @ NightmareJames 12/08/2022 21:56

I'll grab the assert code and let you know

=== @ NightmareJames 12/08/2022 22:08

Going to grab the laptop
Desktop is doing a backup

=== @ NightmareJames 12/08/2022 23:33

@connorjclark (discord: connorclark) I really hate to do this for dev reasons, but do you want me to upgrade James Quest:  Sidestory to the latest nightly?

=== @EmilyV99 (discord: Emily) 12/08/2022 23:34

I would think as long as you are *recording* in the newest nightly it would be fine, regardless of when the quest was saved in

=== @connorjclark (discord: connorclark) 12/08/2022 23:39

no, why would i?

=== @ NightmareJames 12/08/2022 23:46

(replying to @connorjclark (discord: connorclark) "no, why would i?"): We've been getting a lot of hard-to-fix errors out of Sidestory, I just wondered if it'd help

=== @ NightmareJames 12/09/2022 09:52

I'm getting really upset
Why does it have to assert on every quest on continue?
It's like we fix one quest and it happens on another

=== @connorjclark (discord: connorclark) 12/09/2022 10:19

You understand the purpose here is to find bugs? And you are doing that just fine? You should probably step away for a while if you are getting upset.

=== @EmilyV99 (discord: Emily) 12/09/2022 10:33

^ Aye, this exactly

=== @ NightmareJames 12/09/2022 10:50

I guess I just don't understand why it keeps flagging

=== @ NightmareJames 12/09/2022 10:52

It's like we fix it once, twice, three times, whoomp, there it is, again......

=== @EmilyV99 (discord: Emily) 12/09/2022 10:52

because one of us broke something
and you keep finding the things we break
before they become a real problem
(replying to @ NightmareJames "It's like we fix it once, twi…"): welcome to programming!

=== @ NightmareJames 12/09/2022 10:54

You make me feel better (and I have had a lot of sadness lately)

=== @EmilyV99 (discord: Emily) 12/09/2022 10:55

<:hugheart:1012188325790089317> <:hugheart:1012188325790089317> 🫂

=== @ NightmareJames 12/09/2022 10:57

Anyway, going to try to get some 😴.  Only got like 1 hr tonight
May have to drag out the big hammer if this continues

=== @ NightmareJames 12/13/2022 07:34

Connor, what do you want me to do next?
Do you want me to attempt New 2023 Beta to make sure there are no issues, or go into the can of worms of Isle of Rebirth?

=== @connorjclark (discord: connorclark) 12/13/2022 08:11

I plan to merge the v8 replay stuff tomorrow. until then, hold off on anything new

=== @connorjclark (discord: connorclark) 12/14/2022 00:39

@ DeletedUser next nightly (building now) has the input down fix (v8 recordings). Give it a spin with Isle of Rebirth?

=== @ NightmareJames 12/14/2022 01:13

OK

=== @ NightmareJames 12/18/2022 01:29

@connorjclark (discord: connorclark) VERY exhausted, but the 12-17-2022 replay is still V8, right?

=== @connorjclark (discord: connorclark) 12/18/2022 01:30

yeah

=== @ NightmareJames 12/18/2022 01:31

OK, so I'm going to run two tests tonight to make sure nothing's broke
Then if that works, I should be able to start Isle of Rebirth when the crew gets in, just mind you Dad's B-Day is Monday

=== @ NightmareJames 12/18/2022 01:42

Demo SP is fine

=== @connorjclark (discord: connorclark) 12/18/2022 01:43

can you describe what you are doing
does that mean you recorded a new replay and it plays back w/ no asserts?

=== @ NightmareJames 12/18/2022 01:43

Got the first item, saved
Second item, saved
Then killed the Moldorm?Lanmola room
No Asserts

=== @connorjclark (discord: connorclark) 12/18/2022 01:44

👍

=== @ NightmareJames 12/18/2022 01:44

Now let's try James Quest Sidestory (I expect this to assert, but it wouldn't be a crime)

=== @ NightmareJames 12/18/2022 01:47

That was interesting
James Quest:  Sidestory didn't assert
I might take that further just a little bit before hitting Isle (because Isle WILL have its moments)
For the record
Opened the Armos
Got the Blue Candle, Saved
Burned the trees
Went to Lv. 1
Killed the first Snakebite
Got the Cane
Saved
No Asserts

=== @ NightmareJames 12/19/2022 17:28

@connorjclark (discord: connorclark) Need to take today off.  It's my Dad's birthday
I'll be back probably sometime after midnight

=== @ NightmareJames 09/04/2023 20:51

Got another assert for you Connor.  A post-game one from Definitive Edition
Posted it in the replays session
No idea where this one came from, sorry
